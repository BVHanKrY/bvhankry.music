<!DOCTYPE html>
<html lang="es">
<head>

<meta name="description" content="Pulso EP de BVHanKrY: Dub Music desde Ecuador. Escucha online y en todas las plataformas.">
<meta property="og:title" content="BVHanKrY - Pulso EP">
<meta property="og:description" content="Dub Music producido en Ecuador. Streaming y visuales exclusivos.">
<meta property="og:image" content="URL_A_TU_PORTADA.png">
<meta property="og:url" content="https://bvhankry.onrender.com">
<meta name="twitter:card" content="summary_large_image">

  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MQQQ48NX');</script>
<!-- End Google Tag Manager -->
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BVHanKrY - M√∫sica Oficial</title>

  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
  <link rel="icon" href="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/iconos/pesta%C3%B1a%20simbo.png" type="image/png">

  <style>
    /* =========================================
       CODIGO ORIGINAL (PRESERVADO Y CORREGIDO)
       ========================================= */
    :root{
      --bg-body:#121212;
      --bg-gradient:linear-gradient(to bottom, rgba(18,18,18,0.85) 0%, rgba(18,18,18,0.95) 40%, #121212 100%);
      --bg-card:#181818;
      --bg-card-hover:#282828;
      --text-primary:#ffffff;
      --text-secondary:#b3b3b3;
      --accent-green:#1ed760;
      --accent-hover:#1fdf64;
      --nav-height:64px;
      --player-height:110px;
      --vinyl-size:56px;
    }

    *{margin:0;padding:0;box-sizing:border-box;}
    html{scroll-behavior:smooth;}
    body{
      font-family:'Roboto',sans-serif;
      background-color:var(--bg-body);
      background-image:var(--bg-gradient), url(https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/ChatGPT%20Image%2030%20dic%202025%2C%2010_59_54%20a.m..png);
      background-attachment:fixed;
      background-size:cover;
      background-position:center;
      color:var(--text-primary);
      min-height:100vh;
      padding-bottom:calc(var(--player-height) + 20px);
      overflow-x:hidden;
      -webkit-font-smoothing:antialiased;
    }

    /* NAV */
    .main-nav{
      background-color:rgba(18,18,18,0.95);
      backdrop-filter:blur(12px);
      height:var(--nav-height);
      position:fixed;
      top:0;left:0;right:0;
      z-index:1000;
      border-bottom:1px solid rgba(255,255,255,0.05);
      display:flex;
      align-items:center;
      transition:transform 0.25s ease;
    }
    .main-nav.hidden-nav{ transform: translateY(-100%); }

    .nav-container{
      display:flex;
      align-items:center;
      justify-content:space-between;
      width:100%;
      padding:0 32px;
      max-width:1600px;
      margin:0 auto;
      position:relative;
      gap:16px;
    }

    .logo img{ height:32px; border-radius:4px; }
    .nav-links{ display:flex; gap:32px; list-style:none; }
    .nav-links a{
      color:var(--text-secondary);
      text-decoration:none;
      font-weight:700;
      font-size:0.9rem;
      transition:color .2s;
    }
    .nav-links a:hover, .nav-links a.active{ color:var(--text-primary); }

    .social-links{ display:flex; gap:20px; list-style:none; }
    .social-links a img{ height:20px; opacity:.7; transition:all .2s; }
    .social-links a:hover img{ opacity:1; transform:scale(1.1); }

    .menu-toggle{
      display:none;
      background:none;
      border:none;
      color:#fff;
      font-size:1.8rem;
      cursor:pointer;
    }

    /* LAYOUT */
    .container{
      max-width:1400px;
      margin:calc(var(--nav-height) + 40px) auto 0;
      padding:0 32px;
      position:relative;
    }

    header{
      padding:40px 0;
      display:flex;
      align-items:flex-end;
      gap:24px;
      margin-bottom:40px;
    }
    .header-art{
      width:232px;height:232px;
      background-image:url('https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png');
      background-size:cover;background-position:center;
      box-shadow:0 8px 50px rgba(0,0,0,0.6);
      border-radius:18px;
      flex-shrink:0;
      border:1px solid rgba(255,255,255,0.1);
      position:relative;
      overflow:hidden;
      box-shadow:
  0 12px 40px rgba(0,0,0,0.55),
  0 0 0 1px rgba(255,255,255,0.08);
    }
    .header-art::after{
      content:'';
      position:absolute;inset:0;
      background:linear-gradient(135deg, rgba(255,255,255,0.12) 0%, transparent 100%);
      opacity:0;transition:opacity .3s;
      pointer-events:none;
    }
    .header-art:hover::after{opacity:1;}

    .header-type{ font-size:0.8rem; text-transform:uppercase; font-weight:700; margin-bottom:8px; }
     header h1{
      font-size:clamp(2.5rem, 6vw, 5rem);
      font-weight:900;
      line-height:1;
      letter-spacing:-2px;
      text-shadow:0 2px 10px rgba(0,0,0,.5);
    }
    header p{ font-size:0.9rem; color:var(--text-secondary); margin-top:10px; }

    /* SCROLL FADE */
    .scroll-fade{
      opacity:0;
      transform: translateY(18px);
      transition: opacity .6s ease, transform .6s ease;
    }
    .scroll-fade.visible{
      opacity:1;
      transform: translateY(0);
    }

    /* STREAMING SECTION */
    .streaming{
      margin-bottom:40px;
      padding:24px;
      border:1px solid rgba(255,255,255,0.05);
      background:rgba(255,255,255,0.02);
      border-radius:8px;
      backdrop-filter:blur(5px);
    }
    .streaming h2{
      font-size:1.2rem;
      margin-bottom:12px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .streaming h2::before{
      content:'';
      width:4px;height:18px;
      background:var(--accent-green);
      border-radius:2px;
      display:block;
    }
    .streaming .embed{
      display:grid;
      gap:16px;
      margin-top:12px;
    }
    .streaming iframe{
      width:100%;
      border:0;
      border-radius:12px;
      overflow:hidden;
      background:#000;
    }

    /* SONGS GRID */
    .songs-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(280px,1fr));
      gap:24px;
      margin-bottom:60px;
    }
    .cancion-card{
      background:var(--bg-card);
      border-radius:8px;
      padding:16px;
      border:1px solid transparent;
      transition:background-color .3s, transform .2s, box-shadow .2s, border-color .2s;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      position:relative;
    }
    .cancion-card:hover{
      background:var(--bg-card-hover);
      transform:translateY(-4px);
      border-color:rgba(255,255,255,0.1);
      box-shadow:0 10px 30px rgba(0,0,0,0.3);
    }
    .floating-play-btn{
      position:absolute;
      right:20px;
      bottom:90px;
      width:48px;height:48px;
      border-radius:50%;
      background:var(--accent-green);
      box-shadow:0 8px 8px rgba(0,0,0,0.3);
      display:flex;align-items:center;justify-content:center;
      opacity:0;
      transform:translateY(8px);
      transition:all .3s ease;
      border:none;
      cursor:pointer;
      z-index:10;
    }
    .cancion-card:hover .floating-play-btn{ opacity:1; transform:translateY(0); }
    .floating-play-btn:hover{ background:var(--accent-hover); transform:scale(1.05) !important; }
    .floating-play-btn svg{ fill:#000;width:24px;height:24px;margin-left:2px; }

    .song-header-row{ display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:12px; }
    .song-title-text{ font-size:1rem; font-weight:700; max-width:200px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .song-artist-text{ font-size:.85rem; color:var(--text-secondary); }

    .mini-visualizer{ display:flex; gap:3px; height:16px; align-items:flex-end; margin-top:5px; opacity:0; transition:opacity .3s; }
    .cancion-card.playing .mini-visualizer{ opacity:1; }
    .bar{ width:4px; background:var(--accent-green); border-radius:2px; animation:none; height:20%; }
    .cancion-card.playing .bar{ animation:eq .6s infinite ease-in-out alternate; }
    .bar:nth-child(2){ animation-delay:.1s; }
    .bar:nth-child(3){ animation-delay:.2s; }
    .bar:nth-child(4){ animation-delay:.3s; }
    @keyframes eq{ from{height:20%;} to{height:100%;} }

    .player-wrapper{ margin-top:auto; padding-top:10px; }
    .audio-controls-row-1{ display:flex; align-items:center; gap:12px; }
    .inline-play-btn{
      width:32px;height:32px;
      background:transparent;
      border:1px solid var(--text-secondary);
      border-radius:50%;
      display:flex;align-items:center;justify-content:center;
      cursor:pointer;
      transition:all .2s;
      color:#fff;
      flex-shrink:0;
    }
    .inline-play-btn:hover{ border-color:#fff; transform:scale(1.1); }
    .inline-play-btn svg{ width:12px;height:12px; fill:currentColor; pointer-events:none; }
    .cancion-card.playing .inline-play-btn{ border-color:var(--accent-green); color:var(--accent-green); }

    .progress-container{ flex:1; height:4px; background:#535353; border-radius:2px; overflow:hidden; cursor:pointer; }
    .progress-bar{ height:100%; width:0%; background:#fff; transition:width .1s linear; }
    .cancion-card.playing .progress-bar{ background:var(--accent-green); }
    .time-display{ font-size:.75rem; color:var(--text-secondary); min-width:38px; text-align:right; font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

    .song-stats{ display:flex; justify-content:space-between; align-items:center; margin-top:12px; font-size:.75rem; color:var(--text-secondary); }
    .likes-counter{ cursor:pointer; display:flex; align-items:center; gap:6px; user-select:none; }
    .likes-counter:hover{ color:#fff; }
    .heart-icon{ font-size:14px; }
    .heart-icon.liked{ color:var(--accent-green); }

    .share-button-container{ margin-top:16px; }
    .share-whatsapp{
      font-size:.75rem;
      color:var(--text-secondary);
      text-decoration:none;
      text-transform:uppercase;
      font-weight:700;
      letter-spacing:1px;
      border-bottom:1px solid transparent;
      transition:.2s;
    }
    .share-whatsapp:hover{ border-bottom-color:var(--text-primary); color:var(--text-primary); }

    /* INFO SECTIONS */
    .info-sections{ display:grid; grid-template-columns:repeat(auto-fit, minmax(300px,1fr)); gap:24px; margin-bottom:60px; }
     section{
      padding:24px;
      border:1px solid rgba(255,255,255,0.05);
      background:rgba(255,255,255,0.02);
      border-radius:8px;
      backdrop-filter:blur(5px);
    }
     section h2{
      font-size:1.2rem;
      margin-bottom:12px;
      display:flex;
      align-items:center;
      gap:10px;
    }
     section h2::before{
      content:'';
      width:4px;height:18px;
      background:var(--accent-green);
      border-radius:2px;
      display:block;
    }
     section p{ color:var(--text-secondary); font-size:.9rem; line-height:1.6; }
    .tag-coming-soon{
      background:#333;color:#fff;
      padding:4px 10px;
      font-size:.7rem;
      font-weight:700;
      border-radius:12px;
      display:inline-block;
      margin-top:10px;
    }

    /* FOOTER */
     footer{ margin-top:80px; padding:40px 32px; border-top:1px solid rgba(255,255,255,0.1); text-align:center; }
     footer p{ font-size:.85rem; color:var(--text-secondary); margin-bottom:8px; }
    .footer-logo{ font-size:1.5rem; font-weight:900; letter-spacing:-1px; margin-bottom:10px; display:inline-block; }

    /* GLOBAL PLAYER */
    .global-player{
      position:fixed;
      bottom:0;left:0;width:100%;
      background:#181818;
      border-top:1px solid #282828;
      height:var(--player-height);
      padding:0 24px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      z-index:2000;
      transform:translateY(100%);
      transition:transform .35s cubic-bezier(0.2,0.8,0.2,1);
      box-shadow:0 -4px 20px rgba(0,0,0,0.4);
      backdrop-filter:blur(10px);
    }
    .global-player.active{ transform:translateY(0); }

    .gp-left{
      display:flex;
      align-items:center;
      gap:12px;
      width:20%;
      max-width:260px;
    }
    .gp-cover{
      width:var(--vinyl-size); height:var(--vinyl-size);
      border-radius:50%;
      background:#000;
      border:2px solid #333;
      position:relative;
      overflow:hidden;
      cursor:pointer;
      box-shadow:0 0 10px rgba(0,0,0,0.5);
      flex-shrink:0;
    }
    .gp-cover img{ width:100%; height:100%; object-fit:cover; border-radius:50%; position:relative; z-index:2; transition:opacity .25s; }
    .gp-cover::before{
      content:'';
      position:absolute; inset:0;
      border-radius:50%;
      background:
        radial-gradient(circle, transparent 30%, rgba(0,0,0,0.3) 31%, transparent 32%),
        repeating-radial-gradient(#111 0, #111 1px, #222 2px, #222 3px);
      z-index:3;
      pointer-events:none;
      box-shadow:inset 0 0 10px rgba(0,0,0,0.8);
    }
    .gp-cover::after{
      content:'';
      position:absolute;
      top:-50%; left:-50%;
      width:200%; height:200%;
      background:linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0) 100%);
      transform:rotate(30deg) translateY(-100%);
      transition:transform .6s ease;
      z-index:4;
      pointer-events:none;
    }
    .gp-cover:hover::after{ transform:rotate(30deg) translateY(100%); }
    .gp-cover-spin{ animation:spin 4s linear infinite; }
     @keyframes spin{ 100%{ transform:rotate(360deg);} }

    .gp-info-text{ display:flex; flex-direction:column; overflow:hidden; }
    .gp-title{ font-size:.9rem; font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .gp-artist{ font-size:.75rem; color:var(--text-secondary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

    .gp-center{
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      max-width:50%;
      padding:0 20px;
    }
    .gp-controls{ display:flex; align-items:center; gap:24px; margin-bottom:8px; }
    .gp-btn{
      background:none;border:none;
      color:var(--text-secondary);
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      transition:.2s;
      padding:4px;
    }
    .gp-btn:hover{ color:#fff; transform:scale(1.1); }
    .gp-btn:active{ transform:scale(.95); }

    .gp-play-pause{
      width:36px;height:36px;
      background:#fff;
      border-radius:50%;
      display:flex; align-items:center; justify-content:center;
      color:#000;
      cursor:pointer;
      border:none;
      box-shadow:0 4px 12px rgba(0,0,0,0.3);
      transition:.2s;
    }
    .gp-play-pause:hover{ background:var(--accent-green); transform:scale(1.1); }
    .gp-play-pause svg{ width:16px;height:16px; fill:currentColor; }

    .gp-progress-wrapper{
      width:100%;
      display:flex;
      align-items:center;
      gap:12px;
      font-size:.75rem;
      color:var(--text-secondary);
      font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
    .gp-progress-container{
      flex:1;
      height:5px;
      background:#535353;
      border-radius:3px;
      cursor:pointer;
      position:relative;
    }
    .gp-progress-bar{
      height:100%;
      width:0%;
      background:var(--accent-green);
      border-radius:3px;
      box-shadow:0 0 10px var(--accent-green);
      position:relative;
    }

    .gp-extra-actions{ display:flex; gap:16px; margin-top:6px; }
    .gp-action-btn{
      background:none;border:none;
      color:var(--text-secondary);
      cursor:pointer;
      transition:.2s;
      padding:2px;
      display:flex; align-items:center; justify-content:center;
    }
    .gp-action-btn:hover{ color:#fff; transform:scale(1.1); }
    .gp-action-btn.active-like{ color:var(--accent-green); }
    .gp-action-btn svg{ width:18px;height:18px; fill:currentColor; }

    .share-menu-container-center{ position:relative; }
    .share-dropdown{
      position:absolute;
      bottom:140%;
      right:0;
      background:#282828;
      border-radius:12px;
      padding:10px;
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:12px;
      box-shadow:0 5px 20px rgba(0,0,0,0.5);
      opacity:0;
      pointer-events:none;
      transform:translateY(10px) scale(.95);
      transition:.2s ease;
      z-index:50;
      min-width:200px;
    }
    .share-dropdown.active{
      opacity:1;
      pointer-events:auto;
      transform:translateY(0) scale(1);
    }
    .share-item{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:4px;
      color:#fff;
      text-decoration:none;
      font-size:.7rem;
      transition:.2s;
    }
    .share-item:hover{ transform:scale(1.1); color:var(--accent-green); }
    .share-item svg{ width:24px;height:24px; fill:currentColor; }

    .gp-right{ width:25%; display:flex; justify-content:flex-end; gap:16px; }
    .volume-widget{ position:relative; display:flex; align-items:center; }
    .volume-popover{
      position:absolute; bottom:120%; right:0;
      background:#282828;
      padding:15px 10px;
      border-radius:12px;
      display:flex; align-items:center; justify-content:center;
      box-shadow:0 5px 20px rgba(0,0,0,0.5);
      opacity:0;
      pointer-events:none;
      transform:translateY(10px);
      transition:.25s cubic-bezier(0.2,0.8,0.2,1);
      height:120px;
    }
    .volume-widget:hover .volume-popover{ opacity:1; pointer-events:auto; transform:translateY(0); }
    input[type=range].vol-slider-vertical{
      -webkit-appearance:none;
      width:100px;height:4px;
      background:#555;
      border-radius:2px;
      outline:none;
      transform:rotate(-90deg);
      transform-origin:center;
      cursor:pointer;
    }
    input[type=range].vol-slider-vertical::-webkit-slider-thumb{
      -webkit-appearance:none;
      width:12px;height:12px;
      background:#fff;
      border-radius:50%;
      cursor:pointer;
      box-shadow:0 0 5px rgba(0,0,0,0.5);
    }

/* ===== Toast (Avisos) ===== */
     #toast-container{
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 2147483647;
      display: flex;
      flex-direction: column;
      gap: 10px;
      pointer-events: none;
}

/* ‚ÄúTarjeta‚Äù del toast */
   .toast{
      pointer-events: none;
      max-width: min(420px, calc(100vw - 36px));
      padding: 12px 14px;
      border-radius: 12px;

  /* Look cinematogr√°fico/oscuro */
      background: rgba(18,18,18,0.78);
      border: 1px solid rgba(255,255,255,0.10);
      box-shadow: 0 18px 60px rgba(0,0,0,0.55), 0 0 0 1px rgba(255,255,255,0.05), 0 0 24px rgba(30,215,96,0.10);
      backdrop-filter: blur(10px);

  /* Tipograf√≠a */
      color: rgba(255,255,255,0.92);
      font-size: 0.92rem;
      font-weight: 700;
      letter-spacing: 0.2px;
      line-height: 1.25;

  /* Animaci√≥n base */
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 220ms ease, transform 220ms ease;
}

/* Estado visible */
   .toast.show{
      opacity: 1;
      transform: translateY(0);
}

/* Acento (barra izquierda) */
   .toast::before{
      content:"";
      display:inline-block;
      width: 10px;
      height: 10px;
      margin-right: 10px;
      border-radius: 999px;
      background: var(--accent-green);
      box-shadow: 0 0 18px rgba(30,215,96,0.35);
      vertical-align: middle;
}

    /* MOBILE */
    @media (max-width: 768px){
      .container{ padding:0 16px; margin-top:calc(var(--nav-height) + 20px); }
       header{ flex-direction:column; align-items:flex-start; padding:20px 0; }
      .header-art{ width:160px; height:160px; }

      /* Header EP en fila SOLO en m√≥vil */
      header {
       flex-direction: row;
       align-items: center;
       gap: 14px;
  }

  /* Portada EP */
     .header-art {
      width: 88px;
      height: 88px;
      flex-shrink: 0;
  }

  /* Texto a la derecha */
    .header-text {
      justify-content: center;
  }

    .header-type {
     font-size: 0.7rem;
     margin-bottom: 4px;
  }

   .header-text h1 {
    font-size: 1.8rem;
    line-height: 1.05;
    margin: 0;
  }

   header p {
    font-size: 0.75rem;
    line-height: 1.3;
    margin-top: 6px;
  }

  /* Portada EP m√°s peque√±a SOLO en m√≥vil */
  .header-art {
   width: 100px;
   height: 100px;
   border-radius: 18px; /* mantiene look premium */
  }

  /* NAV: Logo - Social - Burger */
  .nav-container{ padding:0 14px; }
  .menu-toggle{ display:block; }
  .nav-links{
    display:none;
    position:absolute;
    top:var(--nav-height);
    left:0;
    width:100%;
    background:rgba(0,0,0,0.92);
    padding:12px 0;
    flex-direction:column;
    gap:0;
    z-index:1001;
  }
  .nav-links.active{ display:flex; }
  .nav-links li{ text-align:center; padding:10px 0; }
  .social-links{ gap:14px; }

  /* Player m√≥vil compacto (sin duplicar tiempos) */
  .global-player{
    height:auto;
    padding:10px 12px;
    gap:10px;
  }
  .gp-left{
    width:auto;
    max-width:none;
    gap:10px;
  }
  .gp-cover{ width:40px; height:40px; }
  .gp-info-text{ max-width:44vw; }
  .gp-title{
    font-size:0.82rem;
    font-weight:900;
  }
  .gp-artist{
    font-size:0.72rem;
    font-weight:700;
  }
  .gp-center{ max-width:none; padding:0; }
  #gpDuration{ display:none; } /* evita doble 0:00 aplastando */
  .gp-right{ display:none; }
}

    /* --- Streaming layout --- */
.embed-grid{
  display: grid;
  gap: 18px;
}

/* Estilo general para iframes */
.embed-grid iframe{
  width: 100%;
  border: 0;
  border-radius: 14px;
  overflow: hidden;
}

/* MOBILE: uno debajo del otro (como quieres) */
@media (max-width: 768px){
  .embed-grid{ grid-template-columns: 1fr;}
  .embed-spotify iframe{ height: 152px; }
  .yt-box{ aspect-ratio: 16 / 9; }
}

/* PC: Spotify izquierda / YouTube derecha */
@media (min-width: 769px){
  .embed-grid{
    grid-template-columns: 1fr 1fr; /* 2 columnas */
    align-items: start;
  }

  /* Spotify un poco m√°s alto en PC para que se vea mejor */
  .embed-spotify iframe{
    height: 352px;
  }

  /* YouTube SIEMPRE 16:9 (portada completa) */
  .yt-box{
    width: 100%;
    aspect-ratio: 16 / 9;
    border-radius: 14px;
    overflow: hidden;
    background: #000;
  }
  .yt-box iframe{
    width: 100%;
    height: 100%;
    display: block;
  }
}

      /* =========================
   SCROLL FADE PRO (Cinem√°tico)
   ========================= */
.scroll-fade{
  opacity: 0;
  transform: translateY(22px) scale(0.985);
  filter: blur(10px);
  transition:
    opacity 900ms cubic-bezier(0.2, 0.8, 0.2, 1),
    transform 900ms cubic-bezier(0.2, 0.8, 0.2, 1),
    filter 900ms cubic-bezier(0.2, 0.8, 0.2, 1);
  will-change: opacity, transform, filter;
}

.scroll-fade.visible{
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}
 /* =========================CINEMA PRO: Streaming========================= */

/* Base (si ya tienes scroll-fade, puedes dejarlo; esto lo mejora) */
    
/* Streaming: marco pro + brillo */
#streaming-section{
  position: relative;
  overflow: hidden;
  border-radius: 14px;
}

/* Glow ‚Äúcinema‚Äù al hacerse visible */
#streaming-section.visible{
  box-shadow:
    0 18px 70px rgba(0,0,0,0.55),
    0 0 0 1px rgba(255,255,255,0.06),
    0 0 26px rgba(30,215,96,0.14);
}

/* Capa de luz animada (pulse) */
#streaming-section::before{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius: 16px;
  pointer-events:none;
  opacity: 0;
  background:
    radial-gradient(600px 140px at 20% 10%, rgba(30,215,96,0.18), transparent 60%),
    radial-gradient(520px 160px at 90% 40%, rgba(255,255,255,0.08), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.03), transparent 35%);
  transform: translateY(14px);
  filter: blur(10px);
  transition: opacity 700ms ease, transform 900ms cubic-bezier(0.2,0.8,0.2,1);
}
#streaming-section.visible::before{
  opacity: 1;
  transform: translateY(0);
  animation: streamGlow 2.6s ease-in-out infinite;
}
@keyframes streamGlow{
  0%,100%{ filter: blur(10px); opacity: 0.85; }
  50%{ filter: blur(14px); opacity: 1; }
}

/* Reveal del t√≠tulo (h2) */
#streaming-section h2{
  position: relative;
  display: inline-block;
  transform: translateY(12px);
  opacity: 0;
  transition: transform 700ms cubic-bezier(0.2,0.8,0.2,1), opacity 700ms ease;
}
#streaming-section.visible h2{
  transform: translateY(0);
  opacity: 1;
  transition-delay: 140ms;
}

/* L√≠nea verde entra con ‚Äúwipe‚Äù */
#streaming-section h2::before{
  content:"";
  position:absolute;
  left: -12px;
  top: 6px;
  width: 4px;
  height: 18px;
  border-radius: 2px;
  background: var(--accent-green);
  transform: scaleY(0);
  transform-origin: top;
  transition: transform 700ms cubic-bezier(0.2,0.8,0.2,1);
}
#streaming-section.visible h2::before{
  transform: scaleY(1);
  transition-delay: 180ms;
}

/* Stagger interno (Spotify y YouTube entran escalonados) */
#streaming-section .embed-item{
  opacity: 0;
  transform: translateY(16px) scale(0.99);
  filter: blur(8px);
  transition:
    opacity 700ms cubic-bezier(0.2,0.8,0.2,1),
    transform 700ms cubic-bezier(0.2,0.8,0.2,1),
    filter 700ms cubic-bezier(0.2,0.8,0.2,1);
  will-change: opacity, transform, filter;
}

#streaming-section.visible .embed-item{
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

#streaming-section.visible .embed-spotify{ transition-delay: 160ms; }
#streaming-section.visible .embed-youtube{ transition-delay: 280ms; }

/* Parallax suave (solo PC) */
@media (min-width: 769px){
  #streaming-section .embed-item{
    will-change: transform;
  }
}

/* Anti-lag m√≥vil: sin blur pesado */
@media (max-width: 768px){
  .scroll-fade{ filter:none; transform: translateY(16px); }
  #streaming-section::before{ filter:none; }
}
    /* Ocultar SOLO el bot√≥n verde flotante de las tarjetas */
.floating-play-btn {
  display: none !important;
}

    /* =======================================================
       CAPA DE MEJORAS CINEMA (VISUALIZATION ENHANCEMENTS)
       ======================================================= */
    
    /* 1. MOUSE SPOTLIGHT EFFECT (Fondo interactivo) */
    body::after {
        content: "";
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        background: radial-gradient(
            800px circle at var(--mouse-x, 50%) var(--mouse-y, 50%), 
            rgba(30, 215, 96, 0.08), 
            transparent 40%
        );
        pointer-events: none;
        z-index: 1; /* Encima del fondo, debajo del contenido */
        mix-blend-mode: screen;
    }

    /* 2. SMOOTH SCROLLBAR */
    ::-webkit-scrollbar {
        width: 8px;
    }
    ::-webkit-scrollbar-track {
        background: #0a0a0a;
    }
    ::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: var(--accent-green);
    }

    /* 3. CINEMA CARDS (Glassmorphism + Deep Shadows) */
    .cancion-card {
        background: rgba(30, 30, 30, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.08);
        transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    /* Hover state con glow verde intenso */
    .cancion-card:hover {
        transform: translateY(-8px) scale(1.02);
        background: rgba(40, 40, 40, 0.8);
        border-color: rgba(30, 215, 96, 0.3);
        box-shadow: 
            0 15px 35px rgba(0,0,0,0.6),
            0 0 0 1px rgba(255,255,255,0.1),
            0 0 20px rgba(30, 215, 96, 0.15); /* Glow Verde */
    }

    /* Estado 'playing' */
    .cancion-card.playing {
        border-color: var(--accent-green);
        background: rgba(24, 24, 24, 0.9);
        box-shadow: 
            0 0 0 1px var(--accent-green),
            0 0 30px rgba(30, 215, 96, 0.1);
    }

    /* Mejora en el visualizador */
    .cancion-card.playing .bar {
        background: #fff;
        box-shadow: 0 0 8px var(--accent-green);
    }

    /* 4. HEADER ART (Portada) Glow */
    .header-art {
        transition: transform 0.5s cubic-bezier(0.2,0.8,0.2,1), box-shadow 0.5s ease;
    }
    .header-art:hover {
        transform: scale(1.03);
        box-shadow: 
            0 20px 60px rgba(0,0,0,0.7),
            0 0 0 1px rgba(255,255,255,0.2);
    }

    /* 5. NAV BAR (Efecto cristal m√°s profundo) */
    .main-nav {
        background: rgba(18, 18, 18, 0.85);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(255,255,255,0.05);
    }

    /* 6. GLOBAL PLAYER (Premium finish) */
    .global-player {
        background: rgba(10, 10, 10, 0.95);
        backdrop-filter: blur(25px);
        -webkit-backdrop-filter: blur(25px);
        border-top: 1px solid rgba(255,255,255,0.08);
        box-shadow: 0 -10px 40px rgba(0,0,0,0.5);
    }
    
    /* Progress bar glow */
    .gp-progress-bar {
        box-shadow: 0 0 10px rgba(30,215,96,0.6);
    }

    /* Bot√≥n Play central del player global */
    .gp-play-pause {
        transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .gp-play-pause:hover {
        transform: scale(1.15);
        box-shadow: 0 0 15px rgba(30, 215, 96, 0.6);
    }

    /* 7. TEXT REFINEMENTS */
    h1 {
        background: linear-gradient(to bottom, #fff, #bbb);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 4px 20px rgba(0,0,0,0.8); /* Sombra fallback */
        /* Nota: text-shadow no funciona con background-clip text, pero la sombra del contenedor ayuda */
        filter: drop-shadow(0 4px 10px rgba(0,0,0,0.8));
    }

    /* 8. SECTIONS (Info, Shop) */
    section {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.05);
        transition: transform 0.3s ease, background 0.3s ease;
    }
    section:hover {
        background: rgba(255, 255, 255, 0.05);
        transform: translateY(-2px);
        border-color: rgba(255, 255, 255, 0.1);
    }

    /* 9. SOCIAL ICONS GLOW */
    .social-links a img {
        transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), filter 0.3s ease;
    }
    .social-links a:hover img {
        filter: drop-shadow(0 0 8px rgba(255,255,255,0.5));
    }
  </style>
</head>

<body>
  
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MQQQ48NX"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  
  <!-- NAV -->
  <nav class="main-nav">
    <div class="nav-container">
      <a href="#" class="logo">
        <img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/iconos/pesta%C3%B1a%20simbo.png" alt="Logo BVHanKrY">
      </a>

      <ul class="social-links" aria-label="Redes sociales">
        <li><a href="https://www.instagram.com/henryandresvill/" target="_blank" aria-label="Instagram"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/instagram.png" alt=""></a></li>
        <li><a href="https://wa.link/uuajw5" target="_blank" aria-label="WhatsApp"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/whatsapp.png" alt=""></a></li>
        <li><a href="https://www.youtube.com/channel/UCJrxTphZnI8Rm_GTyCJp44g" target="_blank" aria-label="YouTube"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/youtube.png" alt=""></a></li>
        <li><a href="https://open.spotify.com/intl-es/artist/0IPDl4adPnkF6LaoEyUwDl" target="_blank" aria-label="Spotify"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/spotify.png" alt=""></a></li>
      </ul>

      <button class="menu-toggle" aria-label="Abrir men√∫" aria-expanded="false">‚ò∞</button>

      <ul class="nav-links" aria-label="Secciones">
        <li><a href="#music" class="active">M√∫sica</a></li>
        <li><a href="#videos">Videos</a></li>
        <li><a href="#shop">Shop</a></li>
      </ul>
    </div>
  </nav>

  <div class="container">
    <header>
      <div class="header-art" aria-label="Portada EP"></div>
      <div class="header-text">
        <span class="header-type">EP ‚Ä¢ 2026</span>
        <h1>BVHanKrY</h1>
        <p>DUB Music ‚Ä¢ Ecuador ‚Ä¢ BVros Productions</p>
      </div>
    </header>

    <!-- SONGS -->
    <div class="songs-grid" id="music">
      <!-- 1 -->
      <article class="cancion-card" id="card-navi" data-title="Tinkuy" data-artist="BVHanKrY"
        data-cover="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png">
        <button class="floating-play-btn btn-card-float" aria-label="Reproducir">
          <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </button>

        <div class="song-header-row">
          <div>
            <div class="song-title-text">Tinkuy</div>
            <div class="song-artist-text">BVHanKrY</div>
          </div>
          <div class="mini-visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="player-wrapper">
          <div class="audio-controls-row-1">
            <button class="inline-play-btn btn-card" aria-label="Reproducir">
              <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
              <svg class="icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            </button>
            <div class="progress-container"><div class="progress-bar"></div></div>
            <div class="time-display">0:00</div>
          </div>
        </div>

        <audio src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/main/audio/tinkuy.mp3" preload="metadata" data-track-title="tinkuy" data-id="tinkuy"></audio>
        
          
        <div class="song-stats">
          <div class="likes-counter" title="Dar Me gusta"><span class="heart-icon">‚ô°</span> <span class="likes-count">0</span></div>
          <div class="plays-counter"><span class="plays-count">0</span> plays</div>
        </div>

        <div class="share-button-container">
          <a href="#" onclick="copyToClipboard('https://bvhankry.onrender.com','Tinkuy'); return false;" class="share-whatsapp">Compartir</a>
        </div>
      </article>

      <!-- 2 -->
      <article class="cancion-card" id="card-subtle_gad" data-title="Subtle Gad" data-artist="BVHanKrY"
        data-cover="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png">
        <button class="floating-play-btn btn-card-float" aria-label="Reproducir">
          <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </button>

        <div class="song-header-row">
          <div>
            <div class="song-title-text">Subtle Gad</div>
            <div class="song-artist-text">BVHanKrY</div>
          </div>
          <div class="mini-visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="player-wrapper">
          <div class="audio-controls-row-1">
            <button class="inline-play-btn btn-card" aria-label="Reproducir">
              <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
              <svg class="icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            </button>
            <div class="progress-container"><div class="progress-bar"></div></div>
            <div class="time-display">0:00</div>
          </div>
        </div>

        <audio src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/main/audio/Subtle%20gad.mp3" preload="metadata" data-track-title="subtle_gad" data-id="subtle_gad"></audio>
        
          
        <div class="song-stats">
          <div class="likes-counter" title="Dar Me gusta"><span class="heart-icon">‚ô°</span> <span class="likes-count">0</span></div>
          <div class="plays-counter"><span class="plays-count">0</span> plays</div>
        </div>

        <div class="share-button-container">
          <a href="#" onclick="copyToClipboard('https://bvhankry.onrender.com','Subtle Gad'); return false;" class="share-whatsapp">Compartir</a>
        </div>
      </article>

      <!-- 3 -->
      <article class="cancion-card" id="card-regrecion" data-title="Regresi√≥n" data-artist="BVHanKrY"
        data-cover="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png">
        <button class="floating-play-btn btn-card-float" aria-label="Reproducir">
          <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </button>

        <div class="song-header-row">
          <div>
            <div class="song-title-text">Regresi√≥n</div>
            <div class="song-artist-text">BVHanKrY</div>
          </div>
          <div class="mini-visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="player-wrapper">
          <div class="audio-controls-row-1">
            <button class="inline-play-btn btn-card" aria-label="Reproducir">
              <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
              <svg class="icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            </button>
            <div class="progress-container"><div class="progress-bar"></div></div>
            <div class="time-display">0:00</div>
          </div>
        </div>

        <audio src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/main/audio/regresi%C3%B3n.mp3" preload="metadata" data-track-title="regresion" data-id="regresion"></audio>
   
        <div class="song-stats">
          <div class="likes-counter" title="Dar Me gusta"><span class="heart-icon">‚ô°</span> <span class="likes-count">0</span></div>
          <div class="plays-counter"><span class="plays-count">0</span> plays</div>
        </div>

        <div class="share-button-container">
          <a href="#" onclick="copyToClipboard('https://bvhankry.onrender.com','Regresi√≥n'); return false;" class="share-whatsapp">Compartir</a>
        </div>
      </article>
    </div>

           <!-- STREAMING -->
    <section id="streaming-section" class="streaming scroll-fade">
  <h2>Streaming en otras plataformas</h2>

<div class="embed embed-grid">
  
   <div class="embed-item embed-spotify">
     <iframe
      src="https://open.spotify.com/embed/playlist/37i9dQZF1E4yFKxFgd38pU"
      width="100%"
      height="352"
      loading="lazy"
      frameborder="0"
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
     </iframe>
  </div>

  <div class="embed-item embed-youtube">
    <div class="yt-box">
      <iframe
        id="yt-embed"
        src="https://www.youtube.com/embed/JJoU2X8_I0I"
        width="100%"
        height="315"
        loading="lazy"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen>
      </iframe>
    </div>
  </div>
</div>

  <!-- BOTONES FALLBACK (por si el navegador bloquea embeds) -->
  <div style="margin-top:14px; display:flex; gap:12px; flex-wrap:wrap;">
    <a
      class="share-whatsapp"
      href="https://open.spotify.com/playlist/37i9dQZF1E4yFKxFgd38pU"
      target="_blank"
      rel="noopener">
      Abrir playlist en Spotify
    </a>

    <a
      class="share-whatsapp"
      href="https://youtu.be/JJoU2X8_I0I"
      target="_blank"
      rel="noopener">
      Ver video en YouTube
    </a>
  </div>
</section>
    
    <div class="info-sections">
      <section id="music-info">
        <h2>Sobre el EP</h2>
        <p>El proyecto "Pulso" explora las profundidades del Dub Music desde Ecuador. Frecuencias bajas dise√±adas para sistemas de sonido potentes y atm√≥sferas que transportan al oyente.</p>
        <span class="tag-coming-soon">Streaming Everywhere</span>
      </section>

      <section id="videos">
        <h2>Visuales</h2>
        <p>Experiencias audiovisuales complementarias.</p>
        <span class="tag-coming-soon">Coming Soon</span>
      </section>

      <section id="shop">
        <h2>Mercanc√≠a</h2>
        <p>Soporta el arte directamente. Vinilos de edici√≥n limitada y dise√±os exclusivos.</p>
        <span class="tag-coming-soon">Tienda Oficial</span>
      </section>
    </div>

    <footer>
      <div class="footer-logo">BVHanKrY</div>
      <p>¬© 2026 BVHanKrY - Todos los derechos reservados. Dise√±ado con pasi√≥n por la m√∫sica y el sonido.</p>
    </footer>
  </div>

  <!-- GLOBAL PLAYER -->
  <div class="global-player" id="globalPlayer">
    <div class="gp-left">
      <div class="gp-cover" id="gpCover">
        <img id="gpCoverImg" src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png" alt="Cover">
      </div>
      <div class="gp-info-text">
        <div class="gp-title" id="gpTitle">T√≠tulo</div>
        <div class="gp-artist" id="gpArtist">Artista</div>
      </div>
    </div>

    <div class="gp-center">
      <div class="gp-controls">
        <button class="gp-btn" id="gpPrevBtn" title="Anterior">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
        </button>

        <button class="gp-play-pause" id="gpPlayBtn" aria-label="Play/Pause">
          <svg class="gp-icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          <svg class="gp-icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
        </button>

        <button class="gp-btn" id="gpNextBtn" title="Siguiente">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
        </button>
      </div>

      <div class="gp-progress-wrapper">
        <span id="gpCurrentTime">0:00</span>
        <div class="gp-progress-container" id="gpProgressContainer">
          <div class="gp-progress-bar" id="gpProgressBar"></div>
        </div>
        <span id="gpDuration">0:00</span>
      </div>

      <div class="gp-extra-actions">
        <button class="gp-action-btn" id="gpLikeBtn" title="Me gusta">
          <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
        </button>

        <div class="share-menu-container-center">
          <button class="gp-action-btn" id="gpShareToggleBtn" title="Compartir">
            <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>
          </button>

          <div class="share-dropdown" id="shareDropdown">
            <a href="#" class="share-item" target="_blank" id="link-wa">WA</a>
            <a href="#" class="share-item" target="_blank" id="link-fb">FB</a>
            <a href="#" class="share-item" target="_blank" id="link-tw">X</a>
            <a href="#" class="share-item" target="_blank" id="link-tg">TG</a>
            <a href="https://www.tiktok.com/" class="share-item" target="_blank">TikTok</a>
            <a href="https://www.instagram.com/henryandresvill/" class="share-item" target="_blank">Insta</a>
          </div>
        </div>
      </div>
    </div>

    <div class="gp-right">
      <div class="volume-widget">
        <button class="gp-btn" title="Volumen">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
        </button>

        <div class="volume-popover">
          <input type="range" class="vol-slider-vertical" min="0" max="1" step="0.01" value="1" id="gpVolumeSlider">
        </div>
      </div>
    </div>
  </div>

  <div id="toast-container"></div>

  <script>
      // ‚úÖ TOAST GLOBAL (siempre disponible)
           function showToast(msg){
        let container = document.getElementById('toast-container');
        if(!container){
        container = document.createElement('div');
        container.id = 'toast-container';
        document.body.appendChild(container);
      }
        if(container.querySelector('.toast.show')) return;
        const t = document.createElement('div');
        t.className = 'toast show';
        t.textContent = msg;
        container.appendChild(t);
        setTimeout(() => { t.classList.remove('show'); setTimeout(()=>t.remove(), 300); }, 3200);
      }
        window.showToast = showToast;
    
      document.addEventListener('DOMContentLoaded', () => {
      // ===== MENU HAMBURGUESA (1 SOLO LISTENER) =====
      const menuBtn = document.querySelector('.menu-toggle');
      const navLinks = document.querySelector('.nav-links');
      if (menuBtn && navLinks) {
      menuBtn.addEventListener('click', () => {
      const willOpen = !navLinks.classList.contains('active');
      navLinks.classList.toggle('active');
      menuBtn.setAttribute('aria-expanded', String(willOpen));
  });
}
      // ===== SCROLL NAV HIDE =====
      let lastScroll = 0;
      window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset;
        const nav = document.querySelector('.main-nav');
        if (currentScroll > lastScroll && currentScroll > 100) nav.classList.add('hidden-nav');
        else nav.classList.remove('hidden-nav');
        lastScroll = currentScroll;
      });

      // ===== SCROLL FADE =====
      const scrollElements = document.querySelectorAll(".scroll-fade");
      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add("visible");
        });
      }, { threshold: 0.25 });
      scrollElements.forEach(el => io.observe(el));

      // ===== AUDIO PLAYER =====
      let currentAudio = null;
      let currentCardId = null;
      let globalVolumeValue = 1.0;

      const cards = Array.from(document.querySelectorAll('.cancion-card'));

      const globalPlayer = document.getElementById('globalPlayer');
      const gpTitle = document.getElementById('gpTitle');
      const gpArtist = document.getElementById('gpArtist');
      const gpCoverImg = document.getElementById('gpCoverImg');
      const gpPlayBtn = document.getElementById('gpPlayBtn');
      const gpIconPlay = gpPlayBtn.querySelector('.gp-icon-play');
      const gpIconPause = gpPlayBtn.querySelector('.gp-icon-pause');
      const gpProgressBar = document.getElementById('gpProgressBar');
      const gpProgressContainer = document.getElementById('gpProgressContainer');
      const gpCurrentTime = document.getElementById('gpCurrentTime');
      const gpDuration = document.getElementById('gpDuration');
      const gpVolSlider = document.getElementById('gpVolumeSlider');
      const gpNextBtn = document.getElementById('gpNextBtn');
      const gpPrevBtn = document.getElementById('gpPrevBtn');
      const gpLikeBtn = document.getElementById('gpLikeBtn');
      const shareToggleBtn = document.getElementById('gpShareToggleBtn');
      const shareDropdown = document.getElementById('shareDropdown');

       const defaultCover = "https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png";

       const formatTime = (s) => {
       if (isNaN(s) || !isFinite(s)) return "0:00";
       const sign = s < 0 ? "-" : "";
       s = Math.max(0, Math.floor(Math.abs(s)));
       const m = Math.floor(s / 60);
       const sec = s % 60;
       return `${sign}${m}:${sec < 10 ? "0" : ""}${sec}`;};


      // ====== AVISO GLOBAL: PAUSA SPOTIFY ======
       let lastStreamingInteraction = 0;
       const streamingSection = document.getElementById("streaming-section");

       if (streamingSection) {
       ["pointerdown", "mousedown", "touchstart", "click", "keydown"].forEach(evt => {
       streamingSection.addEventListener(evt, () => {
       lastStreamingInteraction = Date.now();
    }, { capture: true, passive: evt === "touchstart" });
  });
}

document.addEventListener("play", (e) => {
  const audio = e.target;
  if (!audio || audio.tagName !== "AUDIO") return;

  const recentlyUsedStreaming = (Date.now() - lastStreamingInteraction) < 30000;

  if (recentlyUsedStreaming) {
    showToast("Spotify activo üéß Pausalo para escuchar EP");
  }
}, true);

      function resetCardUI(cardId){
        if(!cardId) return;
        const card = document.getElementById(cardId);
        card.classList.remove('playing');
        card.querySelector('.progress-bar').style.width = '0%';
        card.querySelector('.icon-play').style.display = 'block';
        card.querySelector('.icon-pause').style.display = 'none';
        const floatBtn = card.querySelector('.btn-card-float svg');
        if(floatBtn) floatBtn.innerHTML = '<path d="M8 5v14l11-7z"/>';
      }

      function updateCardUI(cardId, isPlaying){
        if(!cardId) return;
        const card = document.getElementById(cardId);
        const playIcon = card.querySelector('.icon-play');
        const pauseIcon = card.querySelector('.icon-pause');
        const floatIcon = card.querySelector('.btn-card-float svg');

        if(isPlaying){
          card.classList.add('playing');
          playIcon.style.display = 'none';
          pauseIcon.style.display = 'block';
          if(floatIcon) floatIcon.innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>';
        }else{
          card.classList.remove('playing');
          playIcon.style.display = 'block';
          pauseIcon.style.display = 'none';
          if(floatIcon) floatIcon.innerHTML = '<path d="M8 5v14l11-7z"/>';
        }
      }

      function updateGlobalPlayerUI(isPlaying){
        if(!currentAudio) return;
        const card = document.getElementById(currentCardId);
        gpTitle.textContent = card.dataset.title;
        gpArtist.textContent = card.dataset.artist;

        if(isPlaying){
          gpIconPlay.style.display = 'none';
          gpIconPause.style.display = 'block';
          document.getElementById('gpCover').classList.add('gp-cover-spin');
        }else{
          gpIconPlay.style.display = 'block';
          gpIconPause.style.display = 'none';
          document.getElementById('gpCover').classList.remove('gp-cover-spin');
        }
      }

      function updateShareLinks(title){
        const text = `Escucha ${title} en BVHanKrY Music`;
        const url = 'https://bvhankry.onrender.com';
        document.getElementById('link-wa').href = `https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`;
        document.getElementById('link-fb').href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
        document.getElementById('link-tw').href = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
        document.getElementById('link-tg').href = `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`;
      }

      function updateGlobalLikeState(cardId){
        const isLiked = localStorage.getItem(`like-${cardId}`) === 'true';
        const icon = gpLikeBtn.querySelector('svg');
        if(isLiked){
          gpLikeBtn.classList.add('active-like');
          icon.style.fill = 'var(--accent-green)';
        }else{
          gpLikeBtn.classList.remove('active-like');
          icon.style.fill = 'currentColor';
        }
      }

      function toggleLike(cardId){
        const card = document.getElementById(cardId);
        const likeState = localStorage.getItem(`like-${cardId}`) === 'true';
        const newState = !likeState;
        localStorage.setItem(`like-${cardId}`, newState);

        const heart = card.querySelector('.heart-icon');
        const countSpan = card.querySelector('.likes-count');
        let count = parseInt(countSpan.innerText || '0', 10);

        if(newState){
          heart.classList.add('liked');
          heart.textContent = '‚ô•';
          count++;
          showToast("A√±adido a Me gusta");
        }else{
          heart.classList.remove('liked');
          heart.textContent = '‚ô°';
          count = Math.max(0, count - 1);
        }
        countSpan.innerText = count;

        if(currentCardId === cardId) updateGlobalLikeState(cardId);
      }

      function playSong(cardId){
        const card = document.getElementById(cardId);
        const audio = card.querySelector('audio');
        const coverUrl = card.dataset.cover || defaultCover;

        if(currentAudio === audio && !audio.paused){
          audio.pause();
          updateCardUI(cardId, false);
          updateGlobalPlayerUI(false);
          return;
        }

        if(currentAudio && currentAudio !== audio) {
          currentAudio.pause();
          resetCardUI(currentCardId);
        }

        currentAudio = audio;
        currentCardId = cardId;

        globalPlayer.classList.add('active');
        gpCoverImg.src = coverUrl;
        updateShareLinks(card.dataset.title);
        updateGlobalLikeState(cardId);

        audio.volume = globalVolumeValue;
        audio.play().then(() => {
          updateCardUI(cardId, true);
          updateGlobalPlayerUI(true);
          
          // Increment play count
          const playCountSpan = card.querySelector('.plays-count');
          let plays = parseInt(playCountSpan.innerText || '0', 10);
          playCountSpan.innerText = plays + 1;
        }).catch(e => {
          console.error("Audio play failed", e);
          showToast("Error al reproducir audio");
        });
      }

      // ===== GLOBAL PLAYER EVENTS =====
      gpPlayBtn.addEventListener('click', () => {
        if(!currentAudio) return;
        if(currentAudio.paused) {
          currentAudio.play();
          updateCardUI(currentCardId, true);
          updateGlobalPlayerUI(true);
        } else {
          currentAudio.pause();
          updateCardUI(currentCardId, false);
          updateGlobalPlayerUI(false);
        }
      });

      gpNextBtn.addEventListener('click', () => {
        if(!currentCardId) return;
        const currentIndex = cards.findIndex(c => c.id === currentCardId);
        const nextIndex = (currentIndex + 1) % cards.length;
        playSong(cards[nextIndex].id);
      });

      gpPrevBtn.addEventListener('click', () => {
        if(!currentCardId) return;
        const currentIndex = cards.findIndex(c => c.id === currentCardId);
        const prevIndex = (currentIndex - 1 + cards.length) % cards.length;
        playSong(cards[prevIndex].id);
      });

      gpVolSlider.addEventListener('input', (e) => {
        globalVolumeValue = parseFloat(e.target.value);
        if(currentAudio) currentAudio.volume = globalVolumeValue;
      });

      gpLikeBtn.addEventListener('click', () => {
        if(currentCardId) toggleLike(currentCardId);
      });

      shareToggleBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        shareDropdown.classList.toggle('active');
      });

      document.addEventListener('click', () => {
        shareDropdown.classList.remove('active');
      });

      // ===== CARD EVENTS =====
      cards.forEach(card => {
        const btn = card.querySelector('.btn-card');
        const floatBtn = card.querySelector('.btn-card-float');
        const progressContainer = card.querySelector('.progress-container');
        const likesCounter = card.querySelector('.likes-counter');
        const audio = card.querySelector('audio');

        const handlePlay = () => playSong(card.id);
        btn.addEventListener('click', handlePlay);
        if(floatBtn) floatBtn.addEventListener('click', (e) => { e.stopPropagation(); handlePlay(); });
        card.addEventListener('click', (e) => {
          if(e.target === card || e.target.closest('.song-header-row')) handlePlay();
        });

        progressContainer.addEventListener('click', (e) => {
          if(!audio.duration) return;
          const rect = progressContainer.getBoundingClientRect();
          const pos = (e.clientX - rect.left) / rect.width;
          audio.currentTime = pos * audio.duration;
        });

        likesCounter.addEventListener('click', (e) => {
          e.stopPropagation();
          toggleLike(card.id);
        });

        audio.addEventListener('timeupdate', () => {
          const percent = (audio.currentTime / audio.duration) * 100;
          card.querySelector('.progress-bar').style.width = `${percent}%`;
          card.querySelector('.time-display').innerText = formatTime(audio.currentTime);

          if(currentAudio === audio) {
            gpProgressBar.style.width = `${percent}%`;
            gpCurrentTime.innerText = formatTime(audio.currentTime);
            gpDuration.innerText = formatTime(audio.duration);
          }
        });

        audio.addEventListener('ended', () => {
           gpNextBtn.click(); // Auto play next
        });
      });

      // ===== UTILS =====
      function copyToClipboard(url, title) {
        const text = `Escucha "${title}" en BVHanKrY: ${url}`;
        navigator.clipboard.writeText(text).then(() => {
          showToast("Enlace copiado al portapapeles");
        }).catch(() => {
          showToast("Error al copiar enlace");
        });
      }
      window.copyToClipboard = copyToClipboard;

    });

    /* =========================================
       CINEMA EFFECTS JS (MOUSE SPOTLIGHT)
       ========================================= */
    document.addEventListener('mousemove', (e) => {
        const x = e.clientX;
        const y = e.clientY;
        document.body.style.setProperty('--mouse-x', x + 'px');
        document.body.style.setProperty('--mouse-y', y + 'px');
    });
  </script>
</body>
</html>
