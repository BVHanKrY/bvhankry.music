<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BVHanKrY - Música Oficial</title>
    <!-- Fuentes: Roboto -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="icon" href="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/iconos/pesta%C3%B1a%20simbo.png" type="image/png">
    <style>
        :root {
            /* Paleta de Colores "Streaming" (Estilo Spotify/YouTube) */
            --bg-body: #121212;
            --bg-gradient: radial-gradient(circle at 10% 20%, #1a1a1a 0%, #121212 90%);
            --bg-card: #181818;
            --bg-card-hover: #282828;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
            --accent-green: #1ed760;
            --accent-hover: #1fdf64;
            --border-radius: 8px;
            --nav-height: 64px;
            --player-height: 90px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html { scroll-behavior: smooth; }

        body { 
            font-family: 'Roboto', sans-serif;
            background: var(--bg-body);
            background-image: url(https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/ChatGPT%20Image%2030%20dic%202025%2C%2010_59_54%20a.m..png), linear-gradient(135deg, #121212 0%, #1e1e1e 100%);
            background-attachment: fixed;
            color: var(--text-primary); 
            min-height: 100vh; 
            padding-bottom: calc(var(--player-height) + 20px); /* Espacio para el player */
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }
        
        /* --- Tipografía --- */
        h1, h2, h3 { font-weight: 700; }
        
        /* --- Navegación --- */
        .main-nav { 
            background-color: rgba(18, 18, 18, 0.95); 
            backdrop-filter: blur(12px);
            height: var(--nav-height);
            position: fixed; 
            top: 0; 
            left: 0; 
            right: 0; 
            z-index: 1000; 
            border-bottom: 1px solid rgba(255,255,255,0.05); 
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            display: flex;
            align-items: center;
        }
        .main-nav.hidden-nav { transform: translateY(-100%); }
        
        .nav-container { 
            display: flex; justify-content: space-between; align-items: center; 
            width: 100%; padding: 0 32px; max-width: 1600px; margin: 0 auto; 
        }
        
        .logo img { 
            height: 32px; 
            object-fit: contain;
            filter: brightness(0) invert(1); /* Asegurar que sea blanco */
        }

        .nav-links { display: flex; gap: 32px; list-style: none; }
        .nav-links a { 
            color: var(--text-secondary); text-decoration: none; 
            font-weight: 700; font-size: 0.9rem; 
            letter-spacing: -0.5px; 
            transition: color 0.2s;
        }
        .nav-links a:hover, .nav-links a.active { color: var(--text-primary); }
        
        .social-links { display: flex; gap: 20px; }
        .social-links a img { 
            height: 20px; 
            opacity: 0.7;
            transition: opacity 0.2s, transform 0.2s; 
        }
        .social-links a:hover img { opacity: 1; transform: scale(1.1); }
        
        /* --- Contenedor Principal --- */
        .container { max-width: 1400px; margin: calc(var(--nav-height) + 40px) auto 0; padding: 0 32px; position: relative; }
        
        /* --- Header --- */
        header { 
            padding: 40px 0; 
            display: flex;
            align-items: flex-end;
            gap: 24px;
            margin-bottom: 40px;
        }
        
        .header-art {
            width: 232px;
            height: 232px;
            background: linear-gradient(135deg, #333, #000);
            box-shadow: 0 4px 60px rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            font-weight: 900;
            color: #555;
            border-radius: 4px;
            flex-shrink: 0;
            text-shadow: 2px 2px 0 #000;
        }

        .header-text { display: flex; flex-direction: column; justify-content: flex-end; }
        
        .header-type {
            font-size: 0.8rem;
            text-transform: uppercase;
            font-weight: 700;
            margin-bottom: 8px;
        }

        header h1 { 
            font-size: clamp(2.5rem, 6vw, 5rem); 
            font-weight: 900; 
            margin: 0; 
            line-height: 1;
            letter-spacing: -2px;
            color: #fff;
        }
        
        header p { 
            font-size: 0.9rem; 
            color: var(--text-secondary); 
            margin-top: 10px; 
            font-weight: 400;
        }

        /* --- Grid de Canciones --- */
        .songs-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 24px; 
            margin-bottom: 60px; 
        }
        
        .cancion-card { 
            background-color: var(--bg-card); 
            border-radius: var(--border-radius);
            padding: 16px;
            transition: background-color 0.3s ease, transform 0.2s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            position: relative;
            border: 1px solid transparent;
        }
        .cancion-card:hover { 
            background-color: var(--bg-card-hover); 
            transform: translateY(-4px);
            border-color: rgba(255,255,255,0.1);
        }
        
        /* Botón Flotante */
        .floating-play-btn {
            position: absolute;
            right: 20px;
            bottom: 90px; /* Ajustado para no tapar controles */
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: var(--accent-green);
            box-shadow: 0 8px 8px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateY(8px);
            transition: all 0.3s ease;
            z-index: 10;
            border: none;
            cursor: pointer;
        }
        .cancion-card:hover .floating-play-btn { opacity: 1; transform: translateY(0); }
        .floating-play-btn:hover { background-color: var(--accent-hover); transform: scale(1.05) !important; }
        .floating-play-btn svg { fill: #000; width: 24px; height: 24px; margin-left: 2px; }

        .song-header-row { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; }

        .song-title-text {
            color: var(--text-primary);
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 200px;
        }
        
        .song-artist-text { color: var(--text-secondary); font-size: 0.85rem; font-weight: 400; }

        /* Visualizador */
        .mini-visualizer { display: flex; gap: 3px; height: 16px; align-items: flex-end; margin-top: 5px; opacity: 0; transition: opacity 0.3s;}
        .cancion-card.playing .mini-visualizer { opacity: 1; }
        .bar { width: 4px; background: var(--accent-green); border-radius: 2px; animation: none; height: 20%; }
        .cancion-card.playing .bar { animation: eq 0.6s infinite ease-in-out alternate; }
        .bar:nth-child(2) { animation-delay: 0.1s; }
        .bar:nth-child(3) { animation-delay: 0.2s; }
        .bar:nth-child(4) { animation-delay: 0.3s; }
        @keyframes eq { from { height: 20%; } to { height: 100%; } }

        /* Controles Tarjeta */
        .player-wrapper { margin-top: auto; position: relative; z-index: 5; padding-top: 10px; }
        
        .audio-controls-row-1 { display: flex; align-items: center; gap: 12px; }
        
        .inline-play-btn {
            width: 32px; height: 32px; 
            background: transparent; border: 1px solid var(--text-secondary); border-radius: 50%; 
            display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; color: #fff;
            flex-shrink: 0;
        }
        .inline-play-btn:hover { border-color: #fff; transform: scale(1.1); }
        .inline-play-btn svg { width: 12px; height: 12px; fill: currentColor; pointer-events: none; }
        
        .cancion-card.playing .inline-play-btn { border-color: var(--accent-green); color: var(--accent-green); }

        .progress-container { 
            flex-grow: 1; height: 4px; background-color: #535353; position: relative; cursor: pointer; border-radius: 2px; overflow: hidden;
        }
        .progress-bar { height: 100%; background-color: #fff; width: 0%; transition: width 0.1s linear; }
        .cancion-card.playing .progress-bar { background-color: var(--accent-green); }

        .time-display { font-size: 0.75rem; color: var(--text-secondary); min-width: 38px; text-align: right; font-family: 'Roboto Mono', monospace; font-weight: 500; }
        
        /* Stats */
        .song-stats { display: flex; justify-content: space-between; align-items: center; margin-top: 12px; font-size: 0.75rem; color: var(--text-secondary); }
        
        .likes-counter { cursor: pointer; display: flex; align-items: center; gap: 6px; transition: color 0.2s; user-select: none; }
        .likes-counter:hover { color: #fff; }
        .heart-icon { font-size: 14px; transition: transform 0.2s; }
        .likes-counter:active .heart-icon { transform: scale(0.8); }
        .heart-icon.liked { color: var(--accent-green); }

        .share-button-container { margin-top: 16px; }
        .share-whatsapp { 
            font-size: 0.75rem; color: var(--text-secondary); text-decoration: none; text-transform: uppercase; font-weight: 700; letter-spacing: 1px; border-bottom: 1px solid transparent; transition: border-color 0.2s;
        }
        .share-whatsapp:hover { border-bottom-color: var(--text-primary); color: var(--text-primary); }

        /* --- Secciones Info --- */
        .info-sections { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; margin-bottom: 60px; }
        section { padding: 24px; border: 1px solid rgba(255,255,255,0.05); background: rgba(255,255,255,0.02); border-radius: 8px; }
        section h2 { font-size: 1.2rem; margin-bottom: 12px; color: #fff; display: flex; align-items: center; gap: 10px; }
        section h2::before { content: ''; width: 4px; height: 18px; background: var(--accent-green); display: block; border-radius: 2px; }
        section p { color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; }
        .tag-coming-soon { background-color: #333; color: #fff; padding: 4px 10px; font-size: 0.7rem; font-weight: 700; border-radius: 12px; display: inline-block; margin-top: 10px; }

        /* --- Footer --- */
        footer { margin-top: 80px; padding: 40px 32px; border-top: 1px solid rgba(255,255,255,0.1); text-align: center; }
        footer p { font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 8px; }
        .footer-logo { font-size: 1.5rem; font-weight: 900; letter-spacing: -1px; color: #fff; margin-bottom: 10px; display: inline-block; }
        
        /* --- Global Player --- */
        .global-player {
            position: fixed; bottom: 0; left: 0; width: 100%; height: var(--player-height);
            background-color: #181818; 
            border-top: 1px solid #282828;
            padding: 0 16px; display: flex; align-items: center; justify-content: space-between;
            z-index: 2000; 
            transform: translateY(100%);
            transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            box-shadow: 0 -4px 20px rgba(0,0,0,0.4);
        }
        .global-player.active { transform: translateY(0); }
        
        .gp-left { flex: 1; display: flex; align-items: center; gap: 14px; min-width: 30%; max-width: 30%; }
        .gp-center { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; max-width: 40%; }
        .gp-right { flex: 1; display: flex; align-items: center; justify-content: flex-end; gap: 10px; min-width: 30%; max-width: 30%; }

        /* GP Cover - Vinilo mejorado */
        .gp-cover { 
            width: 56px; height: 56px; background: #111; border-radius: 4px; 
            display: flex; align-items: center; justify-content: center; font-size: 10px; color: #444; font-weight: bold;
            position: relative; overflow: hidden; border: 1px solid #333;
            flex-shrink: 0;
            /* Textura de vinilo CSS */
            background-image: repeating-radial-gradient(#222 0, #222 2px, #111 3px, #111 4px);
        }
        .gp-cover::after { content: ''; position: absolute; width: 16px; height: 16px; background: #000; border-radius: 50%; border: 2px solid #333; z-index: 2; }
        
        /* Animación de giro */
        .gp-cover-spin { animation: spin 4s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        .gp-info-text { display: flex; flex-direction: column; overflow: hidden; margin-left: 8px; }
        .gp-title { font-size: 0.9rem; font-weight: 500; color: #fff; margin-bottom: 2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .gp-artist { font-size: 0.75rem; color: var(--text-secondary); }

        /* Controles GP */
        .gp-controls { display: flex; align-items: center; gap: 20px; margin-bottom: 6px; }
        .gp-btn { background: none; border: none; color: var(--text-secondary); cursor: pointer; transition: color 0.2s; display: flex; align-items: center; padding: 4px; }
        .gp-btn:hover { color: #fff; transform: scale(1.1); }
        .gp-play-pause { 
            width: 32px; height: 32px; background: #fff; border-radius: 50%; 
            display: flex; align-items: center; justify-content: center; transition: transform 0.2s; color: #000;
        }
        .gp-play-pause:hover { transform: scale(1.05); background: var(--accent-green); }
        .gp-play-pause svg { fill: currentColor; width: 14px; height: 14px; }

        .gp-progress-wrapper { width: 100%; display: flex; align-items: center; gap: 8px; font-size: 0.7rem; color: var(--text-secondary); font-family: 'Roboto Mono', monospace; }
        .gp-progress-container { flex-grow: 1; height: 4px; background: #535353; border-radius: 2px; cursor: pointer; position: relative; }
        .gp-progress-container:hover { height: 5px; }
        .gp-progress-bar { height: 100%; background: #fff; width: 0%; border-radius: 2px; position: relative; }
        .gp-progress-bar::after { content:''; position: absolute; right: -4px; top: -3px; width: 10px; height: 10px; background: #fff; border-radius: 50%; opacity: 0; transition: opacity 0.2s; }
        .gp-progress-container:hover .gp-progress-bar::after { opacity: 1; }
        .global-player.active:hover .gp-progress-bar { background: var(--accent-green); }

        /* Volumen */
        .gp-volume-wrapper { display: flex; align-items: center; gap: 8px; width: 100px; }
        input[type=range].vol-slider {
            -webkit-appearance: none; width: 100%; height: 4px; background: #535353; border-radius: 2px; cursor: pointer; outline: none;
        }
        /* Thumb del slider */
        input[type=range].vol-slider::-webkit-slider-thumb {
            -webkit-appearance: none; width: 12px; height: 12px; background: #fff; border-radius: 50%; opacity: 0; transition: opacity 0.2s; cursor: pointer;
        }
        .gp-right:hover input[type=range].vol-slider::-webkit-slider-thumb { opacity: 1; }
        
        /* --- Toast --- */
        #toast-container { position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); z-index: 3000; pointer-events: none; width: 90%; max-width: 300px; text-align: center; }
        .toast { background: #2e77d0; color: #fff; padding: 12px 24px; border-radius: 24px; font-size: 0.9rem; font-weight: 500; box-shadow: 0 4px 12px rgba(0,0,0,0.5); opacity: 0; transform: translateY(10px); transition: all 0.3s; margin-bottom: 10px; white-space: nowrap; }
        .toast.show { opacity: 1; transform: translateY(0); }

        /* --- Responsive --- */
        @media (max-width: 768px) {
            .container { padding: 0 16px; margin-top: calc(var(--nav-height) + 20px); }
            .nav-container { padding: 0 16px; }
            .nav-links { display: none; } /* Ocultar links en móvil para simplificar */
            header { flex-direction: column; align-items: flex-start; }
            .header-art { width: 140px; height: 140px; font-size: 50px; }
            
            /* Player Mobile */
            .global-player { height: auto; padding: 12px 16px; flex-direction: row; flex-wrap: wrap; bottom: -200px; }
            .global-player.active { bottom: 0; }
            .gp-left { width: 60%; order: 1; max-width: 60%; }
            .gp-center { width: 100%; order: 3; max-width: 100%; margin-top: 8px; padding: 0 10px; }
            .gp-right { width: 40%; order: 2; max-width: 40%; justify-content: flex-end; }
            
            .gp-progress-wrapper { order: 3; width: 100%; margin-top: 5px; }
            .gp-volume-wrapper { display: none; }
            .gp-btn:not(.gp-play-pause) { display: none; } /* Solo Play/Pause en móvil */
            footer { padding: 40px 16px; }
            
            .floating-play-btn { bottom: 70px; right: 15px; width: 40px; height: 40px; }
            .floating-play-btn svg { width: 20px; height: 20px; }
        }
    </style>
</head>
<body>
    <!-- Navegación -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="#" class="logo"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/iconos/pesta%C3%B1a%20simbo.png" alt="Logo BVHanKrY"></a>
            <ul class="nav-links">
                <li><a href="#music" class="active">Música</a></li>
                <li><a href="#videos">Videos</a></li>
                <li><a href="#shop">Shop</a></li>
            </ul>
            <ul class="social-links">
                <li><a href="https://www.instagram.com/henryandresvill/" target="_blank" aria-label="Instagram"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/instagram.png" alt="Instagram"></a></li>
                <li><a href="https://wa.link/uuajw5" target="_blank" aria-label="WhatsApp"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/whatsapp.png" alt="WhatsApp"></a></li>
                <li><a href="https://www.youtube.com/channel/UCJrxTphZnI8Rm_GTyCJp44g" target="_blank" aria-label="YouTube"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/youtube.png" alt="YouTube"></a></li>
                <li><a href="https://open.spotify.com/intl-es/artist/0IPDl4adPnkF6LaoEyUwDl" target="_blank" aria-label="Spotify"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/spotify.png" alt="Spotify"></a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <header>
            <div class="header-art">EP</div>
            <div class="header-text">
                <span class="header-type">EP • 2026</span>
                <h1>BVHanKrY</h1>
                <p>DUB Music • Ecuador • BVros Productions</p>
            </div>
        </header>

        <div class="songs-grid" id="music">
            <!-- 1. Tinkuy -->
            <article class="cancion-card" id="card-navi" data-title="Tinkuy" data-artist="BVHanKrY">
                <button class="floating-play-btn btn-card-float" aria-label="Reproducir">
                    <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                </button>

                <div class="song-header-row">
                    <div>
                        <div class="song-title-text">Tinkuy</div>
                        <div class="song-artist-text">BVHanKrY</div>
                    </div>
                    <div class="mini-visualizer">
                        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
                    </div>
                </div>

                <div class="player-wrapper">
                    <div class="audio-controls-row-1">
                        <button class="inline-play-btn btn-card" aria-label="Reproducir">
                            <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg class="icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        <div class="progress-container"><div class="progress-bar"></div></div>
                        <div class="time-display font-mono">0:00</div>
                    </div>
                </div>
                <audio src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/main/audio/tinkuy.mp3" preload="metadata" data-id="navi"></audio>
                
                <div class="song-stats">
                    <div class="likes-counter" title="Dar Me gusta"><span class="heart-icon">♡</span> <span class="likes-count font-mono">0</span></div>
                    <div class="plays-counter font-mono"><span class="plays-count">0</span> plays</div>
                </div>
                
                <div class="share-button-container">
                    <a href="#" onclick="copyToClipboard('https://bvhankry.onrender.com', 'Tinkuy'); return false;" class="share-whatsapp">Compartir</a>
                </div>
            </article>

            <!-- 2. Subtle Gad -->
            <article class="cancion-card" id="card-subtle_gad" data-title="Subtle Gad" data-artist="BVHanKrY">
                <button class="floating-play-btn btn-card-float" aria-label="Reproducir"><svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg></button>

                <div class="song-header-row">
                    <div>
                        <div class="song-title-text">Subtle Gad</div>
                        <div class="song-artist-text">BVHanKrY</div>
                    </div>
                    <div class="mini-visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
                </div>

                <div class="player-wrapper">
                    <div class="audio-controls-row-1">
                        <button class="inline-play-btn btn-card" aria-label="Reproducir">
                            <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg class="icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        <div class="progress-container"><div class="progress-bar"></div></div>
                        <div class="time-display font-mono">0:00</div>
                    </div>
                </div>
                <audio src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/main/audio/Subtle gad.mp3" preload="metadata" data-id="subtle_gad"></audio>
                
                <div class="song-stats">
                    <div class="likes-counter" title="Dar Me gusta"><span class="heart-icon">♡</span> <span class="likes-count font-mono">0</span></div>
                    <div class="plays-counter font-mono"><span class="plays-count">0</span> plays</div>
                </div>

                <div class="share-button-container">
                    <a href="#" onclick="copyToClipboard('https://bvhankry.onrender.com', 'Subtle Gad'); return false;" class="share-whatsapp">Compartir</a>
                </div>
            </article>

            <!-- 3. Regresión -->
            <article class="cancion-card" id="card-regrecion" data-title="Regresión" data-artist="BVHanKrY">
                <button class="floating-play-btn btn-card-float" aria-label="Reproducir"><svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg></button>

                <div class="song-header-row">
                    <div>
                        <div class="song-title-text">Regresión</div>
                        <div class="song-artist-text">BVHanKrY</div>
                    </div>
                    <div class="mini-visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
                </div>

                <div class="player-wrapper">
                    <div class="audio-controls-row-1">
                        <button class="inline-play-btn btn-card" aria-label="Reproducir">
                            <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg class="icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        <div class="progress-container"><div class="progress-bar"></div></div>
                        <div class="time-display font-mono">0:00</div>
                    </div>
                </div>
                <audio src="https://github.com/BVHanKrY/bvhankry.music/raw/refs/heads/main/audio/regrecion.mp3" preload="metadata" data-id="regrecion"></audio>
                
                <div class="song-stats">
                    <div class="likes-counter" title="Dar Me gusta"><span class="heart-icon">♡</span> <span class="likes-count font-mono">0</span></div>
                    <div class="plays-counter font-mono"><span class="plays-count">0</span> plays</div>
                </div>

                <div class="share-button-container">
                    <a href="#" onclick="copyToClipboard('https://bvhankry.onrender.com', 'Regresión'); return false;" class="share-whatsapp">Compartir</a>
                </div>
            </article>
        </div>

        <div class="info-sections">
            <section id="music-info">
                <h2>Sobre el EP</h2>
                <p>El proyecto "Pulso" explora las profundidades del Dub Music desde Ecuador. Frecuencias bajas diseñadas para sistemas de sonido potentes y atmósferas que transportan al oyente.</p>
                <span class="tag-coming-soon">Streaming Everywhere</span>
            </section>
            <section id="videos">
                <h2>Visuales</h2>
                <p>Experiencias audiovisuales complementarias.</p>
                <span class="tag-coming-soon">Coming Soon</span>
            </section>
            <section id="shop">
                <h2>Mercancía</h2>
                <p>Soporta el arte directamente. Vinilos de edición limitada y diseños exclusivos.</p>
                <span class="tag-coming-soon">Tienda Oficial</span>
            </section>
        </div>

        <footer>
            <div class="footer-logo">BVHanKrY</div>
            <p>© 2026 BVHanKrY-Todos los derechos reservados. Diseñado con pasión por la música y el sonido.</p>
        </footer>
    </div>

    <!-- Reproductor Global -->
    <div class="global-player" id="globalPlayer">
        <div class="gp-left">
            <div class="gp-cover" id="gpCover">BV</div>
            <div class="gp-info-text">
                <div class="gp-title" id="gpTitle">Título</div>
                <div class="gp-artist" id="gpArtist">Artista</div>
            </div>
        </div>
        
        <div class="gp-center">
            <div class="gp-controls">
                <button class="gp-btn" id="gpPrevBtn" title="Anterior"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg></button>
                <button class="gp-play-pause" id="gpPlayBtn">
                    <svg class="gp-icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                    <svg class="gp-icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                </button>
                <button class="gp-btn" id="gpNextBtn" title="Siguiente"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg></button>
            </div>
            <div class="gp-progress-wrapper">
                <span id="gpCurrentTime">0:00</span>
                <div class="gp-progress-container" id="gpProgressContainer">
                    <div class="gp-progress-bar" id="gpProgressBar"></div>
                </div>
                <span id="gpDuration">0:00</span>
            </div>
        </div>

        <div class="gp-right">
            <button class="gp-btn" id="gpMuteBtn"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg></button>
            <div class="gp-volume-wrapper">
                <input type="range" class="vol-slider gp-volume-slider" min="0" max="1" step="0.01" value="1">
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast-container"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Configuración Global
            let currentAudio = null;
            let currentCardId = null;
            let globalVolumeValue = 1.0;
            const cards = Array.from(document.querySelectorAll('.cancion-card'));
            
            // Elementos Globales
            const globalPlayer = document.getElementById('globalPlayer');
            const gpTitle = document.getElementById('gpTitle');
            const gpArtist = document.getElementById('gpArtist');
            const gpCover = document.getElementById('gpCover');
            const gpPlayBtn = document.getElementById('gpPlayBtn');
            const gpIconPlay = gpPlayBtn.querySelector('.gp-icon-play');
            const gpIconPause = gpPlayBtn.querySelector('.gp-icon-pause');
            const gpProgressBar = document.getElementById('gpProgressBar');
            const gpProgressContainer = document.getElementById('gpProgressContainer');
            const gpCurrentTime = document.getElementById('gpCurrentTime');
            const gpDuration = document.getElementById('gpDuration');
            const gpVolSlider = document.querySelector('.gp-volume-slider');
            const gpMuteBtn = document.getElementById('gpMuteBtn');
            const gpNextBtn = document.getElementById('gpNextBtn');
            const gpPrevBtn = document.getElementById('gpPrevBtn');

            // Formato de Tiempo (MM:SS)
            const formatTime = (s) => isNaN(s) ? "0:00" : `${Math.floor(s/60)}:${Math.floor(s%60)<10?'0':''}${Math.floor(s%60)}`;

            // Sistema de Notificaciones (Toast)
            function showToast(msg) {
                const container = document.getElementById('toast-container');
                // Evitar spam de notificaciones
                if(container.querySelector('.toast.show')) return; 
                
                const t = document.createElement('div');
                t.className = 'toast show';
                t.textContent = msg;
                container.appendChild(t);
                setTimeout(() => { 
                    t.classList.remove('show'); 
                    setTimeout(()=>t.remove(), 300); 
                }, 2500);
            }

            // --- Lógica Principal de Audio ---

            function playSong(cardId) {
                const card = document.getElementById(cardId);
                const audio = card.querySelector('audio');

                // Si ya está sonando esta canción, hacer pause
                if (currentAudio === audio && !audio.paused) {
                    pauseSong();
                    return;
                }

                // Si hay otra canción sonando, detenerla
                if (currentAudio && currentAudio !== audio) {
                    currentAudio.pause();
                    currentAudio.currentTime = 0;
                    resetCardUI(currentCardId); // Resetear UI anterior
                }

                // Inicializar nueva canción
                currentAudio = audio;
                currentCardId = cardId;
                
                // Asegurar volumen
                if(audio.volume !== globalVolumeValue) audio.volume = globalVolumeValue;

                // Reproducir
                audio.play().then(() => {
                    updateCardUI(cardId, true);
                    updateGlobalPlayerUI(true);
                    globalPlayer.classList.add('active');
                    
                    // Contador de reproducciones (simple, local)
                    const playsEl = card.querySelector('.plays-count');
                    // Solo contar si no se contó en esta sesión (o si reiniciamos)
                    if(!currentAudio.dataset.counted) {
                        let count = parseInt(localStorage.getItem(`plays-${audio.dataset.id}`) || '0');
                        count++;
                        playsEl.textContent = count;
                        localStorage.setItem(`plays-${audio.dataset.id}`, count);
                        currentAudio.dataset.counted = 'true';
                    }
                }).catch(e => {
                    console.error("Error reproduciendo:", e);
                    showToast("Error al cargar audio");
                });
            }

            function pauseSong() {
                if(!currentAudio) return;
                currentAudio.pause();
                updateCardUI(currentCardId, false);
                updateGlobalPlayerUI(false);
            }

            function playNext() {
                const currentIndex = cards.findIndex(c => c.id === currentCardId);
                const nextIndex = (currentIndex + 1) % cards.length; // Loop al principio si es el último
                playSong(cards[nextIndex].id);
            }

            function playPrev() {
                const currentIndex = cards.findIndex(c => c.id === currentCardId);
                const prevIndex = (currentIndex - 1 + cards.length) % cards.length; // Loop al final si es el primero
                playSong(cards[prevIndex].id);
            }

            // --- Actualización de UI ---

            function resetCardUI(cardId) {
                if(!cardId) return;
                const card = document.getElementById(cardId);
                card.classList.remove('playing');
                card.querySelector('.progress-bar').style.width = '0%';
                card.querySelector('.icon-play').style.display = 'block';
                card.querySelector('.icon-pause').style.display = 'none';
                const floatBtn = card.querySelector('.btn-card-float svg');
                if(floatBtn) floatBtn.innerHTML = '<path d="M8 5v14l11-7z"/>';
            }

            function updateCardUI(cardId, isPlaying) {
                if(!cardId) return;
                const card = document.getElementById(cardId);
                const btns = card.querySelectorAll('.btn-card, .btn-card-float');
                const playIcon = card.querySelector('.icon-play');
                const pauseIcon = card.querySelector('.icon-pause');
                const floatIcon = card.querySelector('.btn-card-float svg');

                if(isPlaying) {
                    card.classList.add('playing');
                    btns.forEach(b => {
                        b.style.backgroundColor = 'var(--accent-green)'; 
                        b.style.borderColor = 'var(--accent-green)';
                        b.style.color = '#000';
                        // Para el botón flotante
                        if(b.classList.contains('btn-card-float')) b.style.boxShadow = '0 8px 8px rgba(0,0,0,0.3)';
                    });
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'block';
                    if(floatIcon) floatIcon.innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>';
                } else {
                    card.classList.remove('playing');
                    btns.forEach(b => {
                        b.style.backgroundColor = ''; 
                        b.style.borderColor = ''; 
                        b.style.color = '';
                        b.style.boxShadow = '';
                    });
                    playIcon.style.display = 'block';
                    pauseIcon.style.display = 'none';
                    if(floatIcon) floatIcon.innerHTML = '<path d="M8 5v14l11-7z"/>';
                }
            }

            function updateGlobalPlayerUI(isPlaying) {
                if(!currentAudio) return;
                const card = document.getElementById(currentCardId);
                
                gpTitle.textContent = card.dataset.title;
                gpArtist.textContent = card.dataset.artist;

                if(isPlaying) {
                    gpIconPlay.style.display = 'none';
                    gpIconPause.style.display = 'block';
                    gpCover.classList.add('gp-cover-spin');
                } else {
                    gpIconPlay.style.display = 'block';
                    gpIconPause.style.display = 'none';
                    gpCover.classList.remove('gp-cover-spin');
                }
            }

            // --- Inicialización de Tarjetas ---
            cards.forEach(card => {
                const audio = card.querySelector('audio');
                const id = audio.dataset.id;
                const cardId = card.id;

                // Cargar stats guardados
                const likes = localStorage.getItem(`likes-${id}`);
                const likeCount = localStorage.getItem(`likes-count-${id}`) || '0';
                const plays = localStorage.getItem(`plays-${id}`) || '0';
                
                card.querySelector('.likes-count').textContent = likeCount;
                card.querySelector('.plays-count').textContent = plays;
                
                if(likes === 'true') card.querySelector('.heart-icon').classList.add('liked');

                // Botón Play Principal
                card.querySelector('.btn-card').addEventListener('click', (e) => { 
                    e.stopPropagation(); 
                    playSong(cardId); 
                });
                
                // Botón Flotante
                card.querySelector('.btn-card-float').addEventListener('click', (e) => { 
                    e.stopPropagation(); 
                    playSong(cardId); 
                });

                // Click en barra de progreso de tarjeta
                const pContainer = card.querySelector('.progress-container');
                const pBar = card.querySelector('.progress-bar');
                const tDisplay = card.querySelector('.time-display');

                pContainer.addEventListener('click', (e) => {
                    if(audio.duration) {
                        const rect = pContainer.getBoundingClientRect();
                        audio.currentTime = ((e.clientX - rect.left) / rect.width) * audio.duration;
                    }
                });

                // Eventos de Audio
                audio.addEventListener('timeupdate', () => {
                    if(audio.duration) {
                        const pct = (audio.currentTime / audio.duration) * 100;
                        // Actualizar tarjeta
                        pBar.style.width = pct + '%';
                        tDisplay.textContent = formatTime(audio.currentTime);
                        
                        // Actualizar Global si es la activa
                        if(audio === currentAudio) {
                            gpProgressBar.style.width = pct + '%';
                            gpCurrentTime.textContent = formatTime(audio.currentTime);
                        }
                    }
                });

                audio.addEventListener('loadedmetadata', () => {
                    if(audio === currentAudio) gpDuration.textContent = formatTime(audio.duration);
                });

                audio.addEventListener('ended', () => {
                    resetCardUI(cardId);
                    playNext(); // Auto-play next
                });

                // Likes
                const likeBtn = card.querySelector('.likes-counter');
                const heart = card.querySelector('.heart-icon');
                const countSpan = card.querySelector('.likes-count');

                likeBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    if(heart.classList.contains('liked')) {
                        heart.classList.remove('liked');
                        localStorage.setItem(`likes-${id}`, 'false');
                        let c = parseInt(countSpan.textContent) - 1;
                        countSpan.textContent = c;
                        localStorage.setItem(`likes-count-${id}`, c);
                    } else {
                        heart.classList.add('liked');
                        localStorage.setItem(`likes-${id}`, 'true');
                        let c = parseInt(countSpan.textContent) + 1;
                        countSpan.textContent = c;
                        localStorage.setItem(`likes-count-${id}`, c);
                        showToast("¡Agregado a Me gusta!");
                    }
                });
            });

            // --- Controles Globales ---
            gpPlayBtn.addEventListener('click', () => {
                if(currentAudio) {
                    if(currentAudio.paused) playSong(currentCardId);
                    else pauseSong();
                }
            });

            gpNextBtn.addEventListener('click', playNext);
            gpPrevBtn.addEventListener('click', playPrev);

            // Click en barra global
            gpProgressContainer.addEventListener('click', (e) => {
                if(currentAudio?.duration) {
                    const rect = gpProgressContainer.getBoundingClientRect();
                    currentAudio.currentTime = ((e.clientX - rect.left) / rect.width) * currentAudio.duration;
                }
            });

            // Volumen
            function updateVolumeVisuals(val) {
                const percent = val * 100;
                gpVolSlider.style.background = `linear-gradient(to right, #fff 0%, #fff ${percent}%, #535353 ${percent}%, #535353 100%)`;
            }

            gpVolSlider.addEventListener('input', (e) => {
                globalVolumeValue = parseFloat(e.target.value);
                if(currentAudio) currentAudio.volume = globalVolumeValue;
                updateVolumeVisuals(globalVolumeValue);
            });
            
            // Inicializar visual de volumen
            updateVolumeVisuals(1.0);

            gpMuteBtn.addEventListener('click', () => {
                if(gpVolSlider.value == 0) {
                    gpVolSlider.value = 1;
                    globalVolumeValue = 1;
                } else {
                    gpVolSlider.value = 0;
                    globalVolumeValue = 0;
                }
                if(currentAudio) currentAudio.volume = globalVolumeValue;
                updateVolumeVisuals(globalVolumeValue);
            });

            // Scroll Navbar
            let lastScroll = 0;
            window.addEventListener('scroll', () => {
                const curr = window.scrollY;
                if(curr > lastScroll && curr > 70) document.querySelector('.main-nav').classList.add('hidden-nav');
                else document.querySelector('.main-nav').classList.remove('hidden-nav');
                lastScroll = curr;
            });
        });

        function copyToClipboard(url, name) {
            const text = `Escucha "${name}" en BVHanKrY: ${url}`;
            navigator.clipboard.writeText(text).then(() => {
                showToast("Enlace copiado al portapapeles");
            }).catch(() => {
                showToast("Error al copiar");
            });
        }
    </script>
</body>
</html>
