<!DOCTYPE html>
<html lang="es">
<head>

<meta name="description" content="Pulso EP de BVHanKrY: Dub Music desde Ecuador. Escucha online y en todas las plataformas.">
<meta property="og:title" content="BVHanKrY - Pulso EP">
<meta property="og:description" content="Dub Music producido en Ecuador. Streaming y visuales exclusivos.">
<meta property="og:image" content="URL_A_TU_PORTADA.png">
<meta property="og:url" content="https://bvhankry.onrender.com">
<meta name="twitter:card" content="summary_large_image">

  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MQQQ48NX');</script>
<!-- End Google Tag Manager -->
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BVHanKrY - M√∫sica Oficial</title>

  <!-- Fonts: Roboto for UI, Montserrat for Cinematic Headings -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="icon" href="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/iconos/pesta%C3%B1a%20simbo.png" type="image/png">

  <style>
    :root{
      --bg-body:#050505;
      --bg-gradient:radial-gradient(circle at 50% 0%, #1a1a1a 0%, #050505 80%);
      --bg-card: rgba(20, 20, 20, 0.6);
      --bg-card-hover: rgba(40, 40, 40, 0.7);
      --text-primary:#ffffff;
      --text-secondary:#a0a0a0;
      --accent-green:#1ed760;
      --accent-hover:#1fdf64;
      --accent-glow: rgba(30, 215, 96, 0.25);
      --nav-height:70px;
      --player-height:90px;
      --vinyl-size:56px;
      --glass-border: 1px solid rgba(255, 255, 255, 0.08);
      --spotlight-size: 400px;
    }

    *{margin:0;padding:0;box-sizing:border-box;}
    html{scroll-behavior:smooth;}
    
    body{
      font-family:'Roboto',sans-serif;
      background-color:var(--bg-body);
      background-image: 
        var(--bg-gradient),
        url(https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/ChatGPT%20Image%2030%20dic%202025%2C%2010_59_54%20a.m..png);
      background-attachment:fixed;
      background-size:cover;
      background-position:center;
      color:var(--text-primary);
      min-height:100vh;
      padding-bottom:calc(var(--player-height) + 40px);
      overflow-x:hidden;
      -webkit-font-smoothing:antialiased;
    }

    /* Ambient Animation Overlay */
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at 15% 50%, rgba(30, 215, 96, 0.03), transparent 25%),
                  radial-gradient(circle at 85% 30%, rgba(255, 255, 255, 0.03), transparent 25%);
      pointer-events: none;
      z-index: -1;
      animation: ambientPulse 10s ease-in-out infinite alternate;
    }

    @keyframes ambientPulse {
      0% { opacity: 0.5; transform: scale(1); }
      100% { opacity: 0.8; transform: scale(1.1); }
    }

    /* NAV */
    .main-nav{
      background-color:rgba(5,5,5,0.85);
      backdrop-filter:blur(20px);
      -webkit-backdrop-filter: blur(20px);
      height:var(--nav-height);
      position:fixed;
      top:0;left:0;right:0;
      z-index:1000;
      border-bottom:var(--glass-border);
      display:flex;
      align-items:center;
      transition:transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
    }
    .main-nav.hidden-nav{ transform: translateY(-100%); }

    .nav-container{
      display:flex;
      align-items:center;
      justify-content:space-between;
      width:100%;
      padding:0 40px;
      max-width:1600px;
      margin:0 auto;
      position:relative;
      gap:16px;
    }

    .logo img{ height:36px; border-radius:4px; filter: drop-shadow(0 0 10px rgba(30,215,96,0.3)); transition: .3s;}
    .logo:hover img{ filter: drop-shadow(0 0 15px rgba(30,215,96,0.6)); transform: scale(1.05); }

    .nav-links{ display:flex; gap:32px; list-style:none; }
    .nav-links a{
      color:var(--text-secondary);
      text-decoration:none;
      font-weight:500;
      font-size:0.9rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition:color .3s;
      position: relative;
    }
    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: -4px; left: 0; width: 0%; height: 2px;
      background: var(--accent-green);
      transition: width .3s ease;
    }
    .nav-links a:hover, .nav-links a.active{ color:var(--text-primary); }
    .nav-links a:hover::after{ width: 100%; }

    .social-links{ display:flex; gap:20px; list-style:none; }
    .social-links a img{ height:20px; opacity:.6; transition:all .3s; }
    .social-links a:hover img{ opacity:1; transform:scale(1.2) rotate(5deg); filter: drop-shadow(0 0 8px rgba(255,255,255,0.5)); }

    .menu-toggle{
      display:none;
      background:none;
      border:none;
      color:#fff;
      font-size:1.8rem;
      cursor:pointer;
    }

    /* LAYOUT */
    .container{
      max-width:1400px;
      margin:calc(var(--nav-height) + 60px) auto 0;
      padding:0 32px;
      position:relative;
      z-index: 1;
    }

    header{
      padding:60px 0 40px;
      display:flex;
      align-items:flex-end;
      gap:32px;
      margin-bottom:60px;
      position: relative;
    }
    .header-art{
      width:260px;height:260px;
      background-image:url('https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png');
      background-size:cover;background-position:center;
      /* Cinema Shadow */
      box-shadow:
        0 20px 50px rgba(0,0,0,0.8),
        0 0 0 1px rgba(255,255,255,0.1);
      border-radius:12px;
      flex-shrink:0;
      position:relative;
      overflow:hidden;
      transition: transform 0.4s ease;
      z-index: 2;
    }
    .header-art:hover {
      transform: scale(1.02);
      box-shadow: 0 30px 60px rgba(0,0,0,0.9), 0 0 0 1px rgba(255,255,255,0.2);
    }
    
    .header-type{ 
      font-size:0.85rem; 
      text-transform:uppercase; 
      font-weight:700; 
      margin-bottom:12px;
      letter-spacing: 2px;
      color: var(--accent-green);
      text-shadow: 0 0 20px rgba(30,215,96,0.4);
    }
     header h1{
      font-family: 'Montserrat', sans-serif;
      font-size:clamp(3rem, 7vw, 6rem);
      font-weight:900;
      line-height:0.95;
      letter-spacing:-2px;
      margin-bottom: 16px;
      /* Cinematic Text Shadow */
      text-shadow:
        0 4px 30px rgba(0,0,0,.8),
        0 0 20px rgba(0,0,0,0.5);
      background: linear-gradient(to bottom, #fff 40%, #aaa 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    header p{ 
      font-size:1rem; 
      color:var(--text-secondary); 
      margin-top:10px;
      font-weight: 300;
      letter-spacing: 0.5px;
    }

    /* SCROLL FADE CINEMA */
    .scroll-fade{
      opacity:0;
      transform: translateY(40px) scale(0.98);
      filter: blur(10px);
      transition: opacity 1s cubic-bezier(0.16, 1, 0.3, 1), 
                  transform 1s cubic-bezier(0.16, 1, 0.3, 1), 
                  filter 1s cubic-bezier(0.16, 1, 0.3, 1);
      will-change: opacity, transform, filter;
    }
    .scroll-fade.visible{
      opacity:1;
      transform: translateY(0) scale(1);
      filter: blur(0);
    }

    /* =========================
       CINEMA STREAMING SECTION 
       ========================= */
    .streaming{
      margin-bottom:60px;
      padding:30px;
      border:var(--glass-border);
      background: rgba(10,10,10,0.6);
      border-radius:20px;
      backdrop-filter:blur(20px);
      position: relative;
      overflow: hidden;
      /* Spotlight Glow Container */
    }
    
    /* Mouse tracking spotlight effect */
    .streaming::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: radial-gradient(
        var(--spotlight-size) circle at var(--mouse-x, 50%) var(--mouse-y, 50%), 
        rgba(255,255,255,0.06), 
        transparent 40%
      );
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
      z-index: 1;
    }
    .streaming:hover::before { opacity: 1; }

    .streaming.visible {
      box-shadow: 0 30px 80px rgba(0,0,0,0.6);
      border-color: rgba(30,215,96,0.15);
    }

    .streaming h2{
      font-family: 'Montserrat', sans-serif;
      font-size:1.5rem;
      margin-bottom:24px;
      display:flex;
      align-items:center;
      gap:14px;
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      z-index: 2;
    }
    .streaming h2::before{
      content:'';
      width:6px;height:24px;
      background:var(--accent-green);
      border-radius:4px;
      display:block;
      box-shadow: 0 0 15px var(--accent-green);
    }
    .streaming .embed-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap:24px;
      position: relative;
      z-index: 2;
    }
    .embed-item {
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.05);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .embed-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      border-color: rgba(255,255,255,0.1);
    }
    .streaming iframe{
      width:100%;
      height:100%; /* Fill container */
      display:block;
    }
    
    /* Youtube container specific aspect ratio fix */
    .yt-box {
      width: 100%;
      aspect-ratio: 16/9;
      background: #000;
    }

    /* Fallback Buttons Styling */
    .streaming .fallback-links {
      margin-top: 20px;
      display: flex;
      gap: 15px;
      position: relative;
      z-index: 2;
    }
    .streaming .fallback-links a {
      color: var(--text-secondary);
      font-size: 0.8rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-decoration: none;
      border: 1px solid rgba(255,255,255,0.1);
      padding: 8px 16px;
      border-radius: 20px;
      transition: all 0.3s;
    }
    .streaming .fallback-links a:hover {
      background: var(--text-primary);
      color: #000;
      border-color: #fff;
    }

    /* SONGS GRID */
    .songs-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(300px,1fr));
      gap:24px;
      margin-bottom:80px;
    }
    .cancion-card{
      background:var(--bg-card);
      border-radius:16px;
      padding:20px;
      border:var(--glass-border);
      transition:all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      cursor:pointer;
      display:flex;
      flex-direction:column;
      position:relative;
      overflow: hidden;
      /* Spotlight for cards */
    }
    .cancion-card::before {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: radial-gradient(
        600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%), 
        rgba(255,255,255,0.06), 
        transparent 40%
      );
      z-index: 0;
      opacity: 0;
      transition: opacity 0.5s;
      pointer-events: none;
    }
    .cancion-card:hover::before { opacity: 1; }
    .cancion-card:hover{
      background:var(--bg-card-hover);
      transform:translateY(-8px);
      border-color:rgba(255,255,255,0.2);
      box-shadow:0 15px 40px rgba(0,0,0,0.4);
    }
    
    .floating-play-btn{
      position:absolute;
      right:20px;
      bottom:100px;
      width:52px;height:52px;
      border-radius:50%;
      background:var(--accent-green);
      box-shadow:0 10px 20px rgba(0,0,0,0.4), 0 0 0 4px rgba(30,215,96,0.2);
      display:flex;align-items:center;justify-content:center;
      opacity:0;
      transform:translateY(12px) scale(0.9);
      transition:all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      border:none;
      cursor:pointer;
      z-index:10;
    }
    .cancion-card:hover .floating-play-btn{ opacity:1; transform:translateY(0) scale(1); }
    .floating-play-btn:hover{ background:var(--accent-hover); transform:scale(1.1) !important; box-shadow: 0 0 20px var(--accent-green); }
    .floating-play-btn svg{ fill:#000;width:24px;height:24px;margin-left:2px; }

    .song-header-row{ display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:16px; position: relative; z-index: 1;}
    .song-title-text{ font-size:1.1rem; font-weight:700; font-family: 'Montserrat', sans-serif; max-width:220px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .song-artist-text{ font-size:.85rem; color:var(--text-secondary); }

    .mini-visualizer{ display:flex; gap:4px; height:18px; align-items:flex-end; margin-top:6px; opacity:0; transition:opacity .3s; }
    .cancion-card.playing .mini-visualizer{ opacity:1; }
    .bar{ width:4px; background:var(--accent-green); border-radius:2px; animation:none; height:30%; box-shadow: 0 0 8px var(--accent-green); }
    .cancion-card.playing .bar{ animation:eq .8s infinite ease-in-out alternate; }
    .bar:nth-child(2){ animation-delay:.1s; }
    .bar:nth-child(3){ animation-delay:.2s; }
    .bar:nth-child(4){ animation-delay:.3s; }
    @keyframes eq{ 0%{height:20%;} 100%{height:100%;} }

    .player-wrapper{ margin-top:auto; padding-top:16px; position: relative; z-index: 1;}
    .audio-controls-row-1{ display:flex; align-items:center; gap:12px; }
    .inline-play-btn{
      width:36px;height:36px;
      background:rgba(255,255,255,0.1);
      border:none;
      border-radius:50%;
      display:flex;align-items:center;justify-content:center;
      cursor:pointer;
      transition:all .2s;
      color:#fff;
      flex-shrink:0;
    }
    .inline-play-btn:hover{ background:rgba(255,255,255,0.2); transform:scale(1.1); }
    .inline-play-btn svg{ width:12px;height:12px; fill:currentColor; }
    .cancion-card.playing .inline-play-btn{ background:var(--accent-green); color:#000; box-shadow: 0 0 15px var(--accent-glow); }

    .progress-container{ flex:1; height:4px; background:#333; border-radius:2px; overflow:hidden; cursor:pointer; }
    .progress-bar{ height:100%; width:0%; background:var(--text-secondary); transition:width .1s linear; }
    .cancion-card.playing .progress-bar{ background:var(--accent-green); box-shadow: 0 0 10px var(--accent-green); }
    .time-display{ font-size:.75rem; color:var(--text-secondary); min-width:38px; text-align:right; font-family:ui-monospace, monospace; }

    .song-stats{ display:flex; justify-content:space-between; align-items:center; margin-top:16px; font-size:.75rem; color:var(--text-secondary); position: relative; z-index: 1;}
    .likes-counter{ cursor:pointer; display:flex; align-items:center; gap:6px; user-select:none; transition: .2s; }
    .likes-counter:hover{ color:#fff; }
    .heart-icon{ font-size:16px; transition: .2s; }
    .heart-icon.liked{ color:var(--accent-green); text-shadow: 0 0 10px var(--accent-green); }

    .share-button-container{ margin-top:20px; position: relative; z-index: 1;}
    .share-whatsapp{
      font-size:.75rem;
      color:var(--text-secondary);
      text-decoration:none;
      text-transform:uppercase;
      font-weight:700;
      letter-spacing:1px;
      border-bottom:1px solid transparent;
      transition:.2s;
    }
    .share-whatsapp:hover{ border-bottom-color:var(--text-primary); color:var(--text-primary); }

    /* INFO SECTIONS */
    .info-sections{ display:grid; grid-template-columns:repeat(auto-fit, minmax(300px,1fr)); gap:24px; margin-bottom:80px; }
     section{
      padding:30px;
      border:var(--glass-border);
      background:rgba(20,20,20,0.4);
      border-radius:16px;
      backdrop-filter:blur(10px);
      transition: .3s;
    }
    section:hover { background: rgba(30,30,30,0.6); border-color: rgba(255,255,255,0.15); }
     section h2{
      font-family: 'Montserrat', sans-serif;
      font-size:1.2rem;
      margin-bottom:16px;
      display:flex;
      align-items:center;
      gap:12px;
      text-transform: uppercase;
    }
     section h2::before{
      content:''; width:4px;height:16px; background:var(--accent-green); border-radius:2px; display:block;
    }
     section p{ color:var(--text-secondary); font-size:.9rem; line-height:1.7; }
    .tag-coming-soon{
      background:#222;color:#bbb;
      padding:6px 14px;
      font-size:.7rem;
      font-weight:700;
      border-radius:20px;
      display:inline-block;
      margin-top:16px;
      border: 1px solid #333;
    }

    /* FOOTER */
     footer{ margin-top:100px; padding:50px 20px; border-top:var(--glass-border); text-align:center; position: relative; z-index: 2; }
     footer p{ font-size:.85rem; color:var(--text-secondary); margin-bottom:8px; opacity: 0.7; }
    .footer-logo{ font-family: 'Montserrat', sans-serif; font-size:2rem; font-weight:900; letter-spacing:-1px; margin-bottom:16px; display:inline-block; background: linear-gradient(to right, #fff, #888); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

    /* GLOBAL PLAYER */
    .global-player{
      position:fixed;
      bottom:0;left:0;width:100%;
      background: rgba(10,10,10,0.85);
      backdrop-filter:blur(25px);
      -webkit-backdrop-filter: blur(25px);
      border-top:var(--glass-border);
      height:var(--player-height);
      padding:0 32px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      z-index:2000;
      transform:translateY(100%);
      transition:transform .4s cubic-bezier(0.2,0.8,0.2,1);
      box-shadow:0 -10px 40px rgba(0,0,0,0.5);
    }
    .global-player.active{ transform:translateY(0); }

    .gp-left{
      display:flex;
      align-items:center;
      gap:16px;
      width:25%;
      max-width:280px;
    }
    .gp-cover{
      width:var(--vinyl-size); height:var(--vinyl-size);
      border-radius:50%;
      background:#000;
      border:2px solid #222;
      position:relative;
      overflow:hidden;
      cursor:pointer;
      box-shadow:0 0 15px rgba(0,0,0,0.5);
      flex-shrink:0;
    }
    .gp-cover img{ width:100%; height:100%; object-fit:cover; border-radius:50%; position:relative; z-index:2; transition:opacity .25s; }
    .gp-cover::before{
      content:''; position:absolute; inset:0; border-radius:50%;
      background:repeating-radial-gradient(#111 0, #111 2px, #222 3px, #222 4px);
      z-index:3; pointer-events:none; opacity: 0.5;
    }
    .gp-cover-spin{ animation:spin 4s linear infinite; }
     @keyframes spin{ 100%{ transform:rotate(360deg);} }

    .gp-info-text{ display:flex; flex-direction:column; overflow:hidden; }
    .gp-title{ font-size:.95rem; font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-family: 'Montserrat', sans-serif; }
    .gp-artist{ font-size:.8rem; color:var(--text-secondary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; margin-top:2px; }

    .gp-center{
      flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; max-width:45%; padding:0 20px;
    }
    .gp-controls{ display:flex; align-items:center; gap:28px; margin-bottom:6px; }
    .gp-btn{ background:none;border:none; color:var(--text-secondary); cursor:pointer; transition:.2s; display:flex; align-items:center; justify-content:center; }
    .gp-btn:hover{ color:#fff; transform:scale(1.1); }
    
    .gp-play-pause{
      width:40px;height:40px; background:#fff; border-radius:50%; display:flex; align-items:center; justify-content:center; color:#000; cursor:pointer; border:none; transition:.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .gp-play-pause:hover{ background:var(--accent-green); transform:scale(1.1); box-shadow: 0 0 20px var(--accent-green); }
    .gp-play-pause svg{ width:18px;height:18px; fill:currentColor; }

    .gp-progress-wrapper{ width:100%; display:flex; align-items:center; gap:10px; font-size:.75rem; color:var(--text-secondary); font-family:ui-monospace, monospace; }
    .gp-progress-container{ flex:1; height:4px; background:#333; border-radius:2px; cursor:pointer; position:relative; overflow: hidden; }
    .gp-progress-bar{ height:100%; width:0%; background:var(--text-secondary); border-radius:2px; position:relative; }
    .gp-progress-bar::after {
        content:''; position:absolute; right:0; top:0; bottom:0; width:12px; background: #fff; opacity:0; transition: opacity .2s; box-shadow: 0 0 10px #fff;
    }
    .gp-progress-container:hover .gp-progress-bar::after { opacity: 1; }

    .gp-extra-actions{ display:flex; gap:20px; margin-top:4px; }
    .gp-action-btn{ background:none;border:none; color:var(--text-secondary); cursor:pointer; transition:.2s; padding:2px; display:flex; align-items:center; justify-content:center;}
    .gp-action-btn:hover{ color:#fff; transform:scale(1.1); }
    .gp-action-btn.active-like{ color:var(--accent-green); text-shadow: 0 0 10px rgba(30,215,96,0.5); }
    .gp-action-btn svg{ width:18px;height:18px; fill:currentColor; }

    .share-menu-container-center{ position:relative; }
    .share-dropdown{
      position:absolute; bottom:140%; right:0; background:#1a1a1a; border:1px solid #333; border-radius:12px; padding:12px; display:grid; grid-template-columns:repeat(3,1fr); gap:12px; box-shadow:0 10px 30px rgba(0,0,0,0.5); opacity:0; pointer-events:none; transform:translateY(10px) scale(.95); transition:.2s ease; z-index:50; min-width:220px;
    }
    .share-dropdown.active{ opacity:1; pointer-events:auto; transform:translateY(0) scale(1); }
    .share-item{ display:flex; flex-direction:column; align-items:center; gap:4px; color:#fff; text-decoration:none; font-size:.7rem; transition:.2s; }
    .share-item:hover{ transform:scale(1.1); color:var(--accent-green); }
    .share-item svg{ width:24px;height:24px; fill:currentColor; }

    .gp-right{ width:25%; display:flex; justify-content:flex-end; gap:16px; }
    .volume-widget{ position:relative; display:flex; align-items:center; }
    .volume-popover{
      position:absolute; bottom:120%; right:0; background:#1a1a1a; border:1px solid #333; padding:15px 10px; border-radius:12px; display:flex; align-items:center; justify-content:center; box-shadow:0 5px 20px rgba(0,0,0,0.5); opacity:0; pointer-events:none; transform:translateY(10px); transition:.25s cubic-bezier(0.2,0.8,0.2,1); height:120px;
    }
    .volume-widget:hover .volume-popover{ opacity:1; pointer-events:auto; transform:translateY(0); }
    input[type=range].vol-slider-vertical{
      -webkit-appearance:none; width:100px;height:4px; background:#444; border-radius:2px; outline:none; transform:rotate(-90deg); transform-origin:center; cursor:pointer;
    }
    input[type=range].vol-slider-vertical::-webkit-slider-thumb{
      -webkit-appearance:none; width:14px;height:14px; background:#fff; border-radius:50%; cursor:pointer; box-shadow:0 0 5px rgba(0,0,0,0.5); transition: .2s;
    }
    input[type=range].vol-slider-vertical::-webkit-slider-thumb:hover { transform: scale(1.2); background: var(--accent-green); }

/* ===== Toast (Avisos) ===== */
     #toast-container{
      position: fixed; right: 24px; bottom: 100px; z-index: 2147483647; display: flex; flex-direction: column; gap: 10px; pointer-events: none;
}
   .toast{
      pointer-events: auto; max-width: min(400px, calc(100vw - 48px)); padding: 14px 20px; border-radius: 8px;
      background: rgba(20,20,20,0.9); border: 1px solid rgba(30,215,96,0.3);
      box-shadow: 0 10px 30px rgba(0,0,0,0.5), inset 0 0 20px rgba(30,215,96,0.05);
      color: #fff; font-size: 0.9rem; font-weight: 500; display: flex; align-items: center; gap: 10px;
      opacity: 0; transform: translateY(20px); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
   .toast.show{ opacity: 1; transform: translateY(0); }
   .toast::before{ content:''; display:block; width: 8px; height: 8px; border-radius:50%; background: var(--accent-green); box-shadow: 0 0 10px var(--accent-green); }

    /* MOBILE */
    @media (max-width: 768px){
      .container{ padding:0 20px; margin-top:calc(var(--nav-height) + 20px); }
       header{ flex-direction:column; align-items:flex-start; padding:20px 0; }
      .header-art{ width:200px; height:200px; }
      header { flex-direction: row; align-items: center; gap: 16px; }
      .header-art { width: 100px; height: 100px; }
      .header-text h1 { font-size: 2rem; }
      .header-type { font-size: 0.7rem; margin-bottom: 4px; }
      
      .nav-container{ padding:0 20px; }
      .menu-toggle{ display:block; }
      .nav-links{
        display:none; position:absolute; top:var(--nav-height); left:0; width:100%; background:rgba(5,5,5,0.98); padding:20px 0; flex-direction:column; gap:0; z-index:1001; border-bottom: 1px solid #333;
      }
      .nav-links.active{ display:flex; }
      .nav-links li{ text-align:center; padding:15px 0; }
      .social-links{ display: none; /* Hide socials on mobile header to save space */ }

      .global-player{ padding:12px 16px; gap:10px; height: auto; }
      .gp-left{ width:auto; max-width:none; gap:10px; }
      .gp-cover{ width:40px; height:40px; }
      .gp-info-text{ max-width:45vw; }
      .gp-title{ font-size:0.85rem; }
      .gp-artist{ font-size:0.75rem; }
      .gp-center{ max-width:none; padding:0; flex:1; }
      .gp-controls{ gap:15px; }
      .gp-progress-wrapper{ display:none; } /* Hide progress bar on mobile player for cleaner look */
      .gp-right{ display:none; }
      
      .streaming { padding: 20px 16px; }
      .embed-grid { grid-template-columns: 1fr; }
    }
    
    /* Disable spotlight on mobile for performance */
    @media (hover: none) {
      .streaming::before, .cancion-card::before { display: none; }
    }
  </style>
</head>

<body>
  
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MQQQ48NX"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  
  <!-- NAV -->
  <nav class="main-nav">
    <div class="nav-container">
      <a href="#" class="logo">
        <img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/iconos/pesta%C3%B1a%20simbo.png" alt="Logo BVHanKrY">
      </a>

      <ul class="social-links" aria-label="Redes sociales">
        <li><a href="https://www.instagram.com/henryandresvill/" target="_blank" aria-label="Instagram"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/instagram.png" alt=""></a></li>
        <li><a href="https://wa.link/uuajw5" target="_blank" aria-label="WhatsApp"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/whatsapp.png" alt=""></a></li>
        <li><a href="https://www.youtube.com/channel/UCJrxTphZnI8Rm_GTyCJp44g" target="_blank" aria-label="YouTube"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/youtube.png" alt=""></a></li>
        <li><a href="https://open.spotify.com/intl-es/artist/0IPDl4adPnkF6LaoEyUwDl" target="_blank" aria-label="Spotify"><img src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/multimedia/spotify.png" alt=""></a></li>
      </ul>

      <button class="menu-toggle" aria-label="Abrir men√∫" aria-expanded="false">‚ò∞</button>

      <ul class="nav-links" aria-label="Secciones">
        <li><a href="#music" class="active">M√∫sica</a></li>
        <li><a href="#videos">Videos</a></li>
        <li><a href="#shop">Shop</a></li>
      </ul>
    </div>
  </nav>

  <div class="container">
    <header class="scroll-fade">
      <div class="header-art" aria-label="Portada EP"></div>
      <div class="header-text">
        <span class="header-type">EP ‚Ä¢ 2026</span>
        <h1>BVHanKrY</h1>
        <p>DUB Music ‚Ä¢ Ecuador ‚Ä¢ BVros Productions</p>
      </div>
    </header>

    <!-- SONGS -->
    <div class="songs-grid" id="music">
      <!-- 1 -->
      <article class="cancion-card scroll-fade" id="card-navi" data-title="Tinkuy" data-artist="BVHanKrY"
        data-cover="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png">
        <button class="floating-play-btn btn-card-float" aria-label="Reproducir">
          <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </button>

        <div class="song-header-row">
          <div>
            <div class="song-title-text">Tinkuy</div>
            <div class="song-artist-text">BVHanKrY</div>
          </div>
          <div class="mini-visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="player-wrapper">
          <div class="audio-controls-row-1">
            <button class="inline-play-btn btn-card" aria-label="Reproducir">
              <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
              <svg class="icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            </button>
            <div class="progress-container"><div class="progress-bar"></div></div>
            <div class="time-display">0:00</div>
          </div>
        </div>

        <audio src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/main/audio/tinkuy.mp3" preload="metadata" data-track-title="tinkuy" data-id="tinkuy"></audio>
        
        <div class="song-stats">
          <div class="likes-counter" title="Dar Me gusta"><span class="heart-icon">‚ô°</span> <span class="likes-count">0</span></div>
          <div class="plays-counter"><span class="plays-count">0</span> plays</div>
        </div>

        <div class="share-button-container">
          <a href="#" onclick="copyToClipboard('https://bvhankry.onrender.com','Tinkuy'); return false;" class="share-whatsapp">Compartir</a>
        </div>
      </article>

      <!-- 2 -->
      <article class="cancion-card scroll-fade" id="card-subtle_gad" data-title="Subtle Gad" data-artist="BVHanKrY"
        data-cover="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png">
        <button class="floating-play-btn btn-card-float" aria-label="Reproducir">
          <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </button>

        <div class="song-header-row">
          <div>
            <div class="song-title-text">Subtle Gad</div>
            <div class="song-artist-text">BVHanKrY</div>
          </div>
          <div class="mini-visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="player-wrapper">
          <div class="audio-controls-row-1">
            <button class="inline-play-btn btn-card" aria-label="Reproducir">
              <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
              <svg class="icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            </button>
            <div class="progress-container"><div class="progress-bar"></div></div>
            <div class="time-display">0:00</div>
          </div>
        </div>

        <audio src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/main/audio/Subtle%20gad.mp3" preload="metadata" data-track-title="subtle_gad" data-id="subtle_gad"></audio>
        
        <div class="song-stats">
          <div class="likes-counter" title="Dar Me gusta"><span class="heart-icon">‚ô°</span> <span class="likes-count">0</span></div>
          <div class="plays-counter"><span class="plays-count">0</span> plays</div>
        </div>

        <div class="share-button-container">
          <a href="#" onclick="copyToClipboard('https://bvhankry.onrender.com','Subtle Gad'); return false;" class="share-whatsapp">Compartir</a>
        </div>
      </article>

      <!-- 3 -->
      <article class="cancion-card scroll-fade" id="card-regrecion" data-title="Regresi√≥n" data-artist="BVHanKrY"
        data-cover="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png">
        <button class="floating-play-btn btn-card-float" aria-label="Reproducir">
          <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </button>

        <div class="song-header-row">
          <div>
            <div class="song-title-text">Regresi√≥n</div>
            <div class="song-artist-text">BVHanKrY</div>
          </div>
          <div class="mini-visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="player-wrapper">
          <div class="audio-controls-row-1">
            <button class="inline-play-btn btn-card" aria-label="Reproducir">
              <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
              <svg class="icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            </button>
            <div class="progress-container"><div class="progress-bar"></div></div>
            <div class="time-display">0:00</div>
          </div>
        </div>

        <audio src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/main/audio/regresi%C3%B3n.mp3" preload="metadata" data-track-title="regresion" data-id="regresion"></audio>
   
        <div class="song-stats">
          <div class="likes-counter" title="Dar Me gusta"><span class="heart-icon">‚ô°</span> <span class="likes-count">0</span></div>
          <div class="plays-counter"><span class="plays-count">0</span> plays</div>
        </div>

        <div class="share-button-container">
          <a href="#" onclick="copyToClipboard('https://bvhankry.onrender.com','Regresi√≥n'); return false;" class="share-whatsapp">Compartir</a>
        </div>
      </article>
    </div>

           <!-- STREAMING -->
    <section id="streaming-section" class="streaming scroll-fade">
  <h2>Streaming Exclusivo</h2>

<div class="embed embed-grid">
  
   <div class="embed-item embed-spotify">
     <iframe
      src="https://open.spotify.com/embed/playlist/37i9dQZF1E4yFKxFgd38pU"
      width="100%"
      height="352"
      loading="lazy"
      frameborder="0"
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
     </iframe>
  </div>

  <div class="embed-item embed-youtube">
    <div class="yt-box">
      <iframe
        id="yt-embed"
        src="https://www.youtube.com/embed/JJoU2X8_I0I"
        width="100%"
        height="315"
        loading="lazy"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen>
      </iframe>
    </div>
  </div>
</div>

  <!-- BOTONES FALLBACK -->
  <div class="fallback-links">
    <a
      href="https://open.spotify.com/playlist/37i9dQZF1E4yFKxFgd38pU"
      target="_blank"
      rel="noopener">
      Spotify
    </a>

    <a
      href="https://youtu.be/JJoU2X8_I0I"
      target="_blank"
      rel="noopener">
      YouTube
    </a>
  </div>
</section>
    
    <div class="info-sections">
      <section id="music-info" class="scroll-fade">
        <h2>Sobre el EP</h2>
        <p>El proyecto "Pulso" explora las profundidades del Dub Music desde Ecuador. Frecuencias bajas dise√±adas para sistemas de sonido potentes y atm√≥sferas que transportan al oyente.</p>
        <span class="tag-coming-soon">Streaming Everywhere</span>
      </section>

      <section id="videos" class="scroll-fade">
        <h2>Visuales</h2>
        <p>Experiencias audiovisuales complementarias.</p>
        <span class="tag-coming-soon">Coming Soon</span>
      </section>

      <section id="shop" class="scroll-fade">
        <h2>Mercanc√≠a</h2>
        <p>Soporta el arte directamente. Vinilos de edici√≥n limitada y dise√±os exclusivos.</p>
        <span class="tag-coming-soon">Tienda Oficial</span>
      </section>
    </div>

    <footer>
      <div class="footer-logo">BVHanKrY</div>
      <p>¬© 2026 BVHanKrY - Todos los derechos reservados. Dise√±ado con pasi√≥n por la m√∫sica y el sonido.</p>
    </footer>
  </div>

  <!-- GLOBAL PLAYER -->
  <div class="global-player" id="globalPlayer">
    <div class="gp-left">
      <div class="gp-cover" id="gpCover">
        <img id="gpCoverImg" src="https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png" alt="Cover">
      </div>
      <div class="gp-info-text">
        <div class="gp-title" id="gpTitle">T√≠tulo</div>
        <div class="gp-artist" id="gpArtist">Artista</div>
      </div>
    </div>

    <div class="gp-center">
      <div class="gp-controls">
        <button class="gp-btn" id="gpPrevBtn" title="Anterior">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
        </button>

        <button class="gp-play-pause" id="gpPlayBtn" aria-label="Play/Pause">
          <svg class="gp-icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          <svg class="gp-icon-pause" viewBox="0 0 24 24" style="display:none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
        </button>

        <button class="gp-btn" id="gpNextBtn" title="Siguiente">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
        </button>
      </div>

      <div class="gp-progress-wrapper">
        <span id="gpCurrentTime">0:00</span>
        <div class="gp-progress-container" id="gpProgressContainer">
          <div class="gp-progress-bar" id="gpProgressBar"></div>
        </div>
        <span id="gpDuration">0:00</span>
      </div>

      <div class="gp-extra-actions">
        <button class="gp-action-btn" id="gpLikeBtn" title="Me gusta">
          <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
        </button>

        <div class="share-menu-container-center">
          <button class="gp-action-btn" id="gpShareToggleBtn" title="Compartir">
            <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>
          </button>

          <div class="share-dropdown" id="shareDropdown">
            <a href="#" class="share-item" target="_blank" id="link-wa">WA</a>
            <a href="#" class="share-item" target="_blank" id="link-fb">FB</a>
            <a href="#" class="share-item" target="_blank" id="link-tw">X</a>
            <a href="#" class="share-item" target="_blank" id="link-tg">TG</a>
            <a href="https://www.tiktok.com/" class="share-item" target="_blank">TikTok</a>
            <a href="https://www.instagram.com/henryandresvill/" class="share-item" target="_blank">Insta</a>
          </div>
        </div>
      </div>
    </div>

    <div class="gp-right">
      <div class="volume-widget">
        <button class="gp-btn" title="Volumen">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
        </button>

        <div class="volume-popover">
          <input type="range" class="vol-slider-vertical" min="0" max="1" step="0.01" value="1" id="gpVolumeSlider">
        </div>
      </div>
    </div>
  </div>

  <div id="toast-container"></div>

  <script>
      // ‚úÖ TOAST GLOBAL (siempre disponible)
           function showToast(msg){
        let container = document.getElementById('toast-container');
        if(!container){
        container = document.createElement('div');
        container.id = 'toast-container';
        document.body.appendChild(container);
      }
        const t = document.createElement('div');
        t.className = 'toast show';
        t.textContent = msg;
        container.appendChild(t);
        setTimeout(() => { t.classList.remove('show'); setTimeout(()=>t.remove(), 400); }, 3200);
      }
        window.showToast = showToast;
    
      document.addEventListener('DOMContentLoaded', () => {
      
      // ===== MOUSE TRACKING SPOTLIGHT EFFECT =====
      const handleSpotlight = (e) => {
        const cards = document.querySelectorAll('.cancion-card');
        const streamingSection = document.getElementById('streaming-section');
        
        // Helper to update CSS vars
        const updateVar = (element) => {
          const rect = element.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          element.style.setProperty('--mouse-x', `${x}px`);
          element.style.setProperty('--mouse-y', `${y}px`);
        };

        cards.forEach(card => updateVar(card));
        if(streamingSection) updateVar(streamingSection);
      };

      document.body.addEventListener('mousemove', handleSpotlight);

      // ===== MENU HAMBURGUESA =====
      const menuBtn = document.querySelector('.menu-toggle');
      const navLinks = document.querySelector('.nav-links');
      if (menuBtn && navLinks) {
      menuBtn.addEventListener('click', () => {
      const willOpen = !navLinks.classList.contains('active');
      navLinks.classList.toggle('active');
      menuBtn.setAttribute('aria-expanded', String(willOpen));
  });
}
      // ===== SCROLL NAV HIDE =====
      let lastScroll = 0;
      window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset;
        const nav = document.querySelector('.main-nav');
        if (currentScroll > lastScroll && currentScroll > 100) nav.classList.add('hidden-nav');
        else nav.classList.remove('hidden-nav');
        lastScroll = currentScroll;
      });

      // ===== SCROLL FADE =====
      const scrollElements = document.querySelectorAll(".scroll-fade");
      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add("visible");
        });
      }, { threshold: 0.15, rootMargin: "0px 0px -50px 0px" });
      scrollElements.forEach(el => io.observe(el));

      // ===== AUDIO PLAYER =====
      let currentAudio = null;
      let currentCardId = null;
      let globalVolumeValue = 1.0;

      const cards = Array.from(document.querySelectorAll('.cancion-card'));

      const globalPlayer = document.getElementById('globalPlayer');
      const gpTitle = document.getElementById('gpTitle');
      const gpArtist = document.getElementById('gpArtist');
      const gpCoverImg = document.getElementById('gpCoverImg');
      const gpPlayBtn = document.getElementById('gpPlayBtn');
      const gpIconPlay = gpPlayBtn.querySelector('.gp-icon-play');
      const gpIconPause = gpPlayBtn.querySelector('.gp-icon-pause');
      const gpProgressBar = document.getElementById('gpProgressBar');
      const gpProgressContainer = document.getElementById('gpProgressContainer');
      const gpCurrentTime = document.getElementById('gpCurrentTime');
      const gpDuration = document.getElementById('gpDuration');
      const gpVolSlider = document.getElementById('gpVolumeSlider');
      const gpNextBtn = document.getElementById('gpNextBtn');
      const gpPrevBtn = document.getElementById('gpPrevBtn');
      const gpLikeBtn = document.getElementById('gpLikeBtn');
      const shareToggleBtn = document.getElementById('gpShareToggleBtn');
      const shareDropdown = document.getElementById('shareDropdown');

       const defaultCover = "https://raw.githubusercontent.com/BVHanKrY/bvhankry.music/refs/heads/main/fondo/portada%20pulso.png";

       const formatTime = (s) => {
       if (isNaN(s) || !isFinite(s)) return "0:00";
       const sign = s < 0 ? "-" : "";
       s = Math.max(0, Math.floor(Math.abs(s)));
       const m = Math.floor(s / 60);
       const sec = s % 60;
       return `${sign}${m}:${sec < 10 ? "0" : ""}${sec}`;};

       // ===== SPOTIFY INTERACTION TRACKER =====
       let lastStreamingInteraction = 0;
       const streamingSection = document.getElementById("streaming-section");
       if (streamingSection) {
       ["pointerdown", "mousedown", "touchstart", "click", "keydown"].forEach(evt => {
       streamingSection.addEventListener(evt, () => { lastStreamingInteraction = Date.now(); }, { capture: true, passive: evt === "touchstart" });
  });
}

// ===== AVISO GLOBAL SPOTIFY =====
document.addEventListener("play", (e) => {
  const audio = e.target;
  if (!audio || audio.tagName !== "AUDIO") return;
  const recentlyUsedStreaming = (Date.now() - lastStreamingInteraction) < 30000;
  if (recentlyUsedStreaming) showToast("Spotify activo üéß Pausalo para escuchar EP");
}, true);

      function resetCardUI(cardId){
        if(!cardId) return;
        const card = document.getElementById(cardId);
        card.classList.remove('playing');
        card.querySelector('.progress-bar').style.width = '0%';
        card.querySelector('.icon-play').style.display = 'block';
        card.querySelector('.icon-pause').style.display = 'none';
        const floatBtn = card.querySelector('.btn-card-float svg');
        if(floatBtn) floatBtn.innerHTML = '<path d="M8 5v14l11-7z"/>';
      }

      function updateCardUI(cardId, isPlaying){
        if(!cardId) return;
        const card = document.getElementById(cardId);
        const playIcon = card.querySelector('.icon-play');
        const pauseIcon = card.querySelector('.icon-pause');
        const floatIcon = card.querySelector('.btn-card-float svg');

        if(isPlaying){
          card.classList.add('playing');
          playIcon.style.display = 'none';
          pauseIcon.style.display = 'block';
          if(floatIcon) floatIcon.innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>';
        }else{
          card.classList.remove('playing');
          playIcon.style.display = 'block';
          pauseIcon.style.display = 'none';
          if(floatIcon) floatIcon.innerHTML = '<path d="M8 5v14l11-7z"/>';
        }
      }

      function updateGlobalPlayerUI(isPlaying){
        if(!currentAudio) return;
        const card = document.getElementById(currentCardId);
        gpTitle.textContent = card.dataset.title;
        gpArtist.textContent = card.dataset.artist;

        if(isPlaying){
          gpIconPlay.style.display = 'none';
          gpIconPause.style.display = 'block';
          document.getElementById('gpCover').classList.add('gp-cover-spin');
        }else{
          gpIconPlay.style.display = 'block';
          gpIconPause.style.display = 'none';
          document.getElementById('gpCover').classList.remove('gp-cover-spin');
        }
      }

      function updateShareLinks(title){
        const text = `Escucha ${title} en BVHanKrY Music`;
        const url = 'https://bvhankry.onrender.com';
        document.getElementById('link-wa').href = `https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`;
        document.getElementById('link-fb').href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
        document.getElementById('link-tw').href = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
        document.getElementById('link-tg').href = `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`;
      }

      function updateGlobalLikeState(cardId){
        const isLiked = localStorage.getItem(`like-${cardId}`) === 'true';
        const icon = gpLikeBtn.querySelector('svg');
        if(isLiked){
          gpLikeBtn.classList.add('active-like');
          icon.style.fill = 'var(--accent-green)';
        }else{
          gpLikeBtn.classList.remove('active-like');
          icon.style.fill = 'currentColor';
        }
      }

      function toggleLike(cardId){
        const card = document.getElementById(cardId);
        const likeState = localStorage.getItem(`like-${cardId}`) === 'true';
        const newState = !likeState;
        localStorage.setItem(`like-${cardId}`, newState);

        const heart = card.querySelector('.heart-icon');
        const countSpan = card.querySelector('.likes-count');
        let count = parseInt(countSpan.innerText || '0', 10);

        if(newState){
          heart.classList.add('liked');
          heart.textContent = '‚ô•';
          count++;
          showToast("A√±adido a Me gusta");
        }else{
          heart.classList.remove('liked');
          heart.textContent = '‚ô°';
          count = Math.max(0, count - 1);
        }
        countSpan.innerText = count;

        if(currentCardId === cardId) updateGlobalLikeState(cardId);
      }

      function playSong(cardId){
        const card = document.getElementById(cardId);
        const audio = card.querySelector('audio');
        const coverUrl = card.dataset.cover || defaultCover;

        // Si es la misma canci√≥n
        if(currentAudio === audio && !audio.paused){
          audio.pause();
          updateCardUI(cardId, false);
          updateGlobalPlayerUI(false);
          return;
        }

        // Si hay otra canci√≥n sonando
        if(currentAudio && currentAudio !== audio){
          const oldCardId = currentCardId;
          currentAudio.pause();
          resetCardUI(oldCardId);
        }

        // Play nueva
        currentAudio = audio;
        currentCardId = cardId;
        
        globalPlayer.classList.add('active');
        gpCoverImg.src = coverUrl;
        
        updateShareLinks(card.dataset.title);
        updateGlobalLikeState(cardId);
        
        audio.volume = globalVolumeValue;
        audio.play().then(() => {
          updateCardUI(cardId, true);
          updateGlobalPlayerUI(true);
          
          // Update plays count
          const playCount = card.querySelector('.plays-count');
          let plays = parseInt(playCount.innerText, 10);
          playCount.innerText = plays + 1;

        }).catch(e => console.error("Playback error:", e));
      }

      // Event Listeners for Cards
      cards.forEach(card => {
        const playBtn = card.querySelector('.btn-card');
        const floatBtn = card.querySelector('.btn-card-float');
        const likeBtn = card.querySelector('.likes-counter');
        const progressContainer = card.querySelector('.progress-container');
        const audio = card.querySelector('audio');

        const handlePlay = (e) => { e.stopPropagation(); playSong(card.id); };
        playBtn.addEventListener('click', handlePlay);
        if(floatBtn) floatBtn.addEventListener('click', handlePlay);
        card.addEventListener('click', (e) => {
            if(!e.target.closest('button') && !e.target.closest('.progress-container')) playSong(card.id);
        });
        
        likeBtn.addEventListener('click', (e) => { e.stopPropagation(); toggleLike(card.id); });

        // Audio Events
        audio.addEventListener('timeupdate', () => {
          if(currentAudio === audio){
            const pct = (audio.currentTime / audio.duration) * 100;
            card.querySelector('.progress-bar').style.width = `${pct}%`;
            gpProgressBar.style.width = `${pct}%`;
            gpCurrentTime.textContent = formatTime(audio.currentTime);
            gpDuration.textContent = formatTime(audio.duration);
          }
        });

        audio.addEventListener('ended', () => {
            const currentIndex = cards.findIndex(c => c.id === card.id);
            if(currentIndex < cards.length - 1) playSong(cards[currentIndex + 1].id);
            else { updateCardUI(card.id, false); updateGlobalPlayerUI(false); }
        });

        // Progress Scrubbing
        progressContainer.addEventListener('click', (e) => {
            const rect = progressContainer.getBoundingClientRect();
            const pos = (e.clientX - rect.left) / rect.width;
            audio.currentTime = pos * audio.duration;
        });
      });

      // Global Player Controls
      gpPlayBtn.addEventListener('click', () => {
        if(!currentAudio) return;
        if(currentAudio.paused) playSong(currentCardId);
        else { currentAudio.pause(); updateCardUI(currentCardId, false); updateGlobalPlayerUI(false); }
      });

      gpProgressContainer.addEventListener('click', (e) => {
        if(!currentAudio) return;
        const rect = gpProgressContainer.getBoundingClientRect();
        const pos = (e.clientX - rect.left) / rect.width;
        currentAudio.currentTime = pos * currentAudio.duration;
      });

      gpNextBtn.addEventListener('click', () => {
        if(!currentCardId) return;
        const idx = cards.findIndex(c => c.id === currentCardId);
        if(idx < cards.length - 1) playSong(cards[idx + 1].id);
      });

      gpPrevBtn.addEventListener('click', () => {
        if(!currentCardId) return;
        const idx = cards.findIndex(c => c.id === currentCardId);
        if(idx > 0) playSong(cards[idx - 1].id);
      });

      gpVolSlider.addEventListener('input', (e) => {
        globalVolumeValue = parseFloat(e.target.value);
        if(currentAudio) currentAudio.volume = globalVolumeValue;
      });

      gpLikeBtn.addEventListener('click', () => {
        if(currentCardId) toggleLike(currentCardId);
      });

      shareToggleBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        shareDropdown.classList.toggle('active');
      });
      document.addEventListener('click', (e) => {
        if(!shareDropdown.contains(e.target)) shareDropdown.classList.remove('active');
      });

      // Copy Function
      window.copyToClipboard = (url, title) => {
        navigator.clipboard.writeText(url).then(() => {
          showToast(`Enlace de "${title}" copiado`);
        });
      };
    });
  </script>
</body>
</html>
